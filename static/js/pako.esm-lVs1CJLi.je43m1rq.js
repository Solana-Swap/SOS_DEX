import{V as commonjsGlobal$1,$ as getAugmentedNamespace,bn as pako_esm,bo as sha512$5,bp as HashMD,bq as rotl,br as wrapConstructor}from"./Bridge.l9m952se.js";import{S}from"./pbkdf2-GOwpKNWv.fd2y87rk.js";import{b as be,h as he,i as ie}from"./index-hiyXKwf7.k23cgn80.js";const Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=new Uint8Array(new Array(16).fill(0).map((n,t)=>t)),Pi=Id.map(n=>(9*n+5)%16);let idxL=[Id],idxR=[Pi];for(let n=0;n<4;n++)for(let t of[idxL,idxR])t.push(t[n].map(e=>Rho[e]));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),shiftsL=idxL.map((n,t)=>n.map(e=>shifts[t][e])),shiftsR=idxR.map((n,t)=>n.map(e=>shifts[t][e])),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function f(n,t,e,r){return n===0?t^e^r:n===1?t&e|~t&r:n===2?(t|~e)^r:n===3?t&r|e&~r:t^(e|~r)}const R_BUF=new Uint32Array(16);class RIPEMD160 extends HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:r,h3:i,h4:o}=this;return[t,e,r,i,o]}set(t,e,r,i,o){this.h0=t|0,this.h1=e|0,this.h2=r|0,this.h3=i|0,this.h4=o|0}process(t,e){for(let l=0;l<16;l++,e+=4)R_BUF[l]=t.getUint32(e,!0);let r=this.h0|0,i=r,o=this.h1|0,s=o,a=this.h2|0,c=a,u=this.h3|0,h=u,p=this.h4|0,y=p;for(let l=0;l<5;l++){const m=4-l,g=Kl[l],v=Kr[l],O=idxL[l],_=idxR[l],w=shiftsL[l],$=shiftsR[l];for(let d=0;d<16;d++){const b=rotl(r+f(l,o,a,u)+R_BUF[O[d]]+g,w[d])+p|0;r=p,p=u,u=rotl(a,10)|0,a=o,o=b}for(let d=0;d<16;d++){const b=rotl(i+f(m,s,c,h)+R_BUF[_[d]]+v,$[d])+y|0;i=y,y=h,h=rotl(c,10)|0,c=s,s=b}}this.set(this.h1+a+h|0,this.h2+u+y|0,this.h3+p+i|0,this.h4+r+s|0,this.h0+o+c|0)}roundClean(){R_BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ripemd160=wrapConstructor(()=>new RIPEMD160),ripemd160$1=Object.freeze(Object.defineProperty({__proto__:null,RIPEMD160,ripemd160},Symbol.toStringTag,{value:"Module"}));var ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z=0;z<ALPHABET.length;z++){var x=ALPHABET.charAt(z);if(ALPHABET_MAP[x]!==void 0)throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z}function polymodStep(n){var t=n>>25;return(n&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function prefixChk(n){for(var t=1,e=0;e<n.length;++e){var r=n.charCodeAt(e);if(r<33||r>126)return"Invalid prefix ("+n+")";t=polymodStep(t)^r>>5}for(t=polymodStep(t),e=0;e<n.length;++e){var i=n.charCodeAt(e);t=polymodStep(t)^i&31}return t}function encode(n,t,e){if(e=e||90,n.length+7+t.length>e)throw new TypeError("Exceeds length limit");n=n.toLowerCase();var r=prefixChk(n);if(typeof r=="string")throw new Error(r);for(var i=n+"1",o=0;o<t.length;++o){var s=t[o];if(s>>5)throw new Error("Non 5-bit word");r=polymodStep(r)^s,i+=ALPHABET.charAt(s)}for(o=0;o<6;++o)r=polymodStep(r);for(r^=1,o=0;o<6;++o){var a=r>>(5-o)*5&31;i+=ALPHABET.charAt(a)}return i}function __decode(n,t){if(t=t||90,n.length<8)return n+" too short";if(n.length>t)return"Exceeds length limit";var e=n.toLowerCase(),r=n.toUpperCase();if(n!==e&&n!==r)return"Mixed-case string "+n;n=e;var i=n.lastIndexOf("1");if(i===-1)return"No separator character for "+n;if(i===0)return"Missing prefix for "+n;var o=n.slice(0,i),s=n.slice(i+1);if(s.length<6)return"Data too short";var a=prefixChk(o);if(typeof a=="string")return a;for(var c=[],u=0;u<s.length;++u){var h=s.charAt(u),p=ALPHABET_MAP[h];if(p===void 0)return"Unknown character "+h;a=polymodStep(a)^p,!(u+6>=s.length)&&c.push(p)}return a!==1?"Invalid checksum for "+n:{prefix:o,words:c}}function decodeUnsafe(){var n=__decode.apply(null,arguments);if(typeof n=="object")return n}function decode(n){var t=__decode.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function convert(n,t,e,r){for(var i=0,o=0,s=(1<<e)-1,a=[],c=0;c<n.length;++c)for(i=i<<t|n[c],o+=t;o>=e;)o-=e,a.push(i>>o&s);if(r)o>0&&a.push(i<<e-o&s);else{if(o>=t)return"Excess padding";if(i<<e-o&s)return"Non-zero padding"}return a}function toWordsUnsafe(n){var t=convert(n,8,5,!0);if(Array.isArray(t))return t}function toWords(n){var t=convert(n,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function fromWordsUnsafe(n){var t=convert(n,5,8,!1);if(Array.isArray(t))return t}function fromWords(n){var t=convert(n,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var bech32={decodeUnsafe,decode,encode,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const require$$1$1=getAugmentedNamespace(S),require$$1=getAugmentedNamespace(sha512$5),require$$0=getAugmentedNamespace(ripemd160$1);var build={},indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(n,t){for(var e=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)e[r++]=arguments[i++];return new Promise(function(s,a){e[r]=function(c){if(o)if(o=!1,c)a(c);else{for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h++]=arguments[h];s.apply(null,u)}};try{n.apply(t||null,e)}catch(c){o&&(o=!1,a(c))}})}var base64$1={};(function(n){var t=n;t.length=function(s){var a=s.length;if(!a)return 0;for(var c=0;--a%4>1&&s.charAt(a)==="=";)++c;return Math.ceil(s.length*3)/4-c};for(var e=new Array(64),r=new Array(123),i=0;i<64;)r[e[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(s,a,c){for(var u=null,h=[],p=0,y=0,l;a<c;){var m=s[a++];switch(y){case 0:h[p++]=e[m>>2],l=(m&3)<<4,y=1;break;case 1:h[p++]=e[l|m>>4],l=(m&15)<<2,y=2;break;case 2:h[p++]=e[l|m>>6],h[p++]=e[m&63],y=0;break}p>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,h)),p=0)}return y&&(h[p++]=e[l],h[p++]=61,y===1&&(h[p++]=61)),u?(p&&u.push(String.fromCharCode.apply(String,h.slice(0,p))),u.join("")):String.fromCharCode.apply(String,h.slice(0,p))};var o="invalid encoding";t.decode=function(s,a,c){for(var u=c,h=0,p,y=0;y<s.length;){var l=s.charCodeAt(y++);if(l===61&&h>1)break;if((l=r[l])===void 0)throw Error(o);switch(h){case 0:p=l,h=1;break;case 1:a[c++]=p<<2|(l&48)>>4,p=l,h=2;break;case 2:a[c++]=(p&15)<<4|(l&60)>>2,p=l,h=3;break;case 3:a[c++]=(p&3)<<6|l,h=0;break}}if(h===1)throw Error(o);return c-u},t.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(n,t,e){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:t,ctx:e||this}),this};EventEmitter.prototype.off=function(n,t){if(n===void 0)this._listeners={};else if(t===void 0)this._listeners[n]=[];else for(var e=this._listeners[n],r=0;r<e.length;)e[r].fn===t?e.splice(r,1):++r;return this};EventEmitter.prototype.emit=function(n){var t=this._listeners[n];if(t){for(var e=[],r=1;r<arguments.length;)e.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,e)}return this};var float=factory(factory);function factory(n){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),e=new Uint8Array(t.buffer),r=e[3]===128;function i(c,u,h){t[0]=c,u[h]=e[0],u[h+1]=e[1],u[h+2]=e[2],u[h+3]=e[3]}function o(c,u,h){t[0]=c,u[h]=e[3],u[h+1]=e[2],u[h+2]=e[1],u[h+3]=e[0]}n.writeFloatLE=r?i:o,n.writeFloatBE=r?o:i;function s(c,u){return e[0]=c[u],e[1]=c[u+1],e[2]=c[u+2],e[3]=c[u+3],t[0]}function a(c,u){return e[3]=c[u],e[2]=c[u+1],e[1]=c[u+2],e[0]=c[u+3],t[0]}n.readFloatLE=r?s:a,n.readFloatBE=r?a:s}():function(){function t(r,i,o,s){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,o,s);else if(isNaN(i))r(2143289344,o,s);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,o,s);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,o,s);else{var c=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-c)*8388608)&8388607;r((a<<31|c+127<<23|u)>>>0,o,s)}}n.writeFloatLE=t.bind(null,writeUintLE),n.writeFloatBE=t.bind(null,writeUintBE);function e(r,i,o){var s=r(i,o),a=(s>>31)*2+1,c=s>>>23&255,u=s&8388607;return c===255?u?NaN:a*(1/0):c===0?a*1401298464324817e-60*u:a*Math.pow(2,c-150)*(u+8388608)}n.readFloatLE=e.bind(null,readUintLE),n.readFloatBE=e.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),e=new Uint8Array(t.buffer),r=e[7]===128;function i(c,u,h){t[0]=c,u[h]=e[0],u[h+1]=e[1],u[h+2]=e[2],u[h+3]=e[3],u[h+4]=e[4],u[h+5]=e[5],u[h+6]=e[6],u[h+7]=e[7]}function o(c,u,h){t[0]=c,u[h]=e[7],u[h+1]=e[6],u[h+2]=e[5],u[h+3]=e[4],u[h+4]=e[3],u[h+5]=e[2],u[h+6]=e[1],u[h+7]=e[0]}n.writeDoubleLE=r?i:o,n.writeDoubleBE=r?o:i;function s(c,u){return e[0]=c[u],e[1]=c[u+1],e[2]=c[u+2],e[3]=c[u+3],e[4]=c[u+4],e[5]=c[u+5],e[6]=c[u+6],e[7]=c[u+7],t[0]}function a(c,u){return e[7]=c[u],e[6]=c[u+1],e[5]=c[u+2],e[4]=c[u+3],e[3]=c[u+4],e[2]=c[u+5],e[1]=c[u+6],e[0]=c[u+7],t[0]}n.readDoubleLE=r?s:a,n.readDoubleBE=r?a:s}():function(){function t(r,i,o,s,a,c){var u=s<0?1:0;if(u&&(s=-s),s===0)r(0,a,c+i),r(1/s>0?0:2147483648,a,c+o);else if(isNaN(s))r(0,a,c+i),r(2146959360,a,c+o);else if(s>17976931348623157e292)r(0,a,c+i),r((u<<31|2146435072)>>>0,a,c+o);else{var h;if(s<22250738585072014e-324)h=s/5e-324,r(h>>>0,a,c+i),r((u<<31|h/4294967296)>>>0,a,c+o);else{var p=Math.floor(Math.log(s)/Math.LN2);p===1024&&(p=1023),h=s*Math.pow(2,-p),r(h*4503599627370496>>>0,a,c+i),r((u<<31|p+1023<<20|h*1048576&1048575)>>>0,a,c+o)}}}n.writeDoubleLE=t.bind(null,writeUintLE,0,4),n.writeDoubleBE=t.bind(null,writeUintBE,4,0);function e(r,i,o,s,a){var c=r(s,a+i),u=r(s,a+o),h=(u>>31)*2+1,p=u>>>20&2047,y=4294967296*(u&1048575)+c;return p===2047?y?NaN:h*(1/0):p===0?h*5e-324*y:h*Math.pow(2,p-1075)*(y+4503599627370496)}n.readDoubleLE=e.bind(null,readUintLE,0,4),n.readDoubleBE=e.bind(null,readUintBE,4,0)}(),n}function writeUintLE(n,t,e){t[e]=n&255,t[e+1]=n>>>8&255,t[e+2]=n>>>16&255,t[e+3]=n>>>24}function writeUintBE(n,t,e){t[e]=n>>>24,t[e+1]=n>>>16&255,t[e+2]=n>>>8&255,t[e+3]=n&255}function readUintLE(n,t){return(n[t]|n[t+1]<<8|n[t+2]<<16|n[t+3]<<24)>>>0}function readUintBE(n,t){return(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}var utf8$2={};(function(n){var t=n;t.length=function(e){for(var r=0,i=0,o=0;o<e.length;++o)i=e.charCodeAt(o),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(o+1)&64512)===56320?(++o,r+=4):r+=3;return r},t.read=function(e,r,i){var o=i-r;if(o<1)return"";for(var s=null,a=[],c=0,u;r<i;)u=e[r++],u<128?a[c++]=u:u>191&&u<224?a[c++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[c++]=55296+(u>>10),a[c++]=56320+(u&1023)):a[c++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,c>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),c=0);return s?(c&&s.push(String.fromCharCode.apply(String,a.slice(0,c))),s.join("")):String.fromCharCode.apply(String,a.slice(0,c))},t.write=function(e,r,i){for(var o=i,s,a,c=0;c<e.length;++c)s=e.charCodeAt(c),s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):(s&64512)===55296&&((a=e.charCodeAt(c+1))&64512)===56320?(s=65536+((s&1023)<<10)+(a&1023),++c,r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128);return i-o}})(utf8$2);var pool_1=pool;function pool(n,t,e){var r=e||8192,i=r>>>1,o=null,s=r;return function(a){if(a<1||a>i)return n(a);s+a>r&&(o=n(r),s=0);var c=t.call(o,s,s+=a);return s&7&&(s=(s|7)+1),c}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var n=requireMinimal();function t(o,s){this.lo=o>>>0,this.hi=s>>>0}var e=t.zero=new t(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var r=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(o){if(o===0)return e;var s=o<0;s&&(o=-o);var a=o>>>0,c=(o-a)/4294967296>>>0;return s&&(c=~c>>>0,a=~a>>>0,++a>4294967295&&(a=0,++c>4294967295&&(c=0))),new t(a,c)},t.from=function(o){if(typeof o=="number")return t.fromNumber(o);if(n.isString(o))if(n.Long)o=n.Long.fromString(o);else return t.fromNumber(parseInt(o,10));return o.low||o.high?new t(o.low>>>0,o.high>>>0):e},t.prototype.toNumber=function(o){if(!o&&this.hi>>>31){var s=~this.lo+1>>>0,a=~this.hi>>>0;return s||(a=a+1>>>0),-(s+a*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(o){return n.Long?new n.Long(this.lo|0,this.hi|0,!!o):{low:this.lo|0,high:this.hi|0,unsigned:!!o}};var i=String.prototype.charCodeAt;return t.fromHash=function(o){return o===r?e:new t((i.call(o,0)|i.call(o,1)<<8|i.call(o,2)<<16|i.call(o,3)<<24)>>>0,(i.call(o,4)|i.call(o,5)<<8|i.call(o,6)<<16|i.call(o,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var o=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^o)>>>0,this.lo=(this.lo<<1^o)>>>0,this},t.prototype.zzDecode=function(){var o=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^o)>>>0,this.hi=(this.hi>>>1^o)>>>0,this},t.prototype.length=function(){var o=this.lo,s=(this.lo>>>28|this.hi<<4)>>>0,a=this.hi>>>24;return a===0?s===0?o<16384?o<128?1:2:o<2097152?3:4:s<16384?s<128?5:6:s<2097152?7:8:a<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(n){var t=n;t.asPromise=aspromise,t.base64=base64$1,t.EventEmitter=eventemitter,t.float=float,t.inquire=inquire_1,t.utf8=utf8$2,t.pool=pool_1,t.LongBits=requireLongbits(),t.isNode=!!(typeof commonjsGlobal$1<"u"&&commonjsGlobal$1&&commonjsGlobal$1.process&&commonjsGlobal$1.process.versions&&commonjsGlobal$1.process.versions.node),t.global=t.isNode&&commonjsGlobal$1||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal$1,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i},t.isString=function(i){return typeof i=="string"||i instanceof String},t.isObject=function(i){return i&&typeof i=="object"},t.isset=t.isSet=function(i,o){var s=i[o];return s!=null&&i.hasOwnProperty(o)?typeof s!="object"||(Array.isArray(s)?s.length:Object.keys(s).length)>0:!1},t.Buffer=function(){try{var i=t.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(i){return typeof i=="number"?t.Buffer?t._Buffer_allocUnsafe(i):new t.Array(i):t.Buffer?t._Buffer_from(i):typeof Uint8Array>"u"?i:new Uint8Array(i)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(i){return i?t.LongBits.from(i).toHash():t.LongBits.zeroHash},t.longFromHash=function(i,o){var s=t.LongBits.fromHash(i);return t.Long?t.Long.fromBits(s.lo,s.hi,o):s.toNumber(!!o)};function e(i,o,s){for(var a=Object.keys(o),c=0;c<a.length;++c)(i[a[c]]===void 0||!s)&&(i[a[c]]=o[a[c]]);return i}t.merge=e,t.lcFirst=function(i){return i.charAt(0).toLowerCase()+i.substring(1)};function r(i){function o(s,a){if(!(this instanceof o))return new o(s,a);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&e(this,a)}return(o.prototype=Object.create(Error.prototype)).constructor=o,Object.defineProperty(o.prototype,"name",{get:function(){return i}}),o.prototype.toString=function(){return this.name+": "+this.message},o}t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(i){for(var o={},s=0;s<i.length;++s)o[i[s]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;c>-1;--c)if(o[a[c]]===1&&this[a[c]]!==void 0&&this[a[c]]!==null)return a[c]}},t.oneOfSetter=function(i){return function(o){for(var s=0;s<i.length;++s)i[s]!==o&&delete this[i[s]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var i=t.Buffer;if(!i){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=i.from!==Uint8Array.from&&i.from||function(o,s){return new i(o,s)},t._Buffer_allocUnsafe=i.allocUnsafe||function(o){return new i(o)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(n,t,e){this.fn=n,this.len=t,this.next=void 0,this.val=e}function noop$1(){}function State(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function Writer$1(){this.len=0,this.head=new Op(noop$1,0,0),this.tail=this.head,this.states=null}var create$1=function n(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function n(t){return new util$4.Array(t)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function n(t,e,r){return this.tail=this.tail.next=new Op(t,e,r),this.len+=e,this};function writeByte(n,t,e){t[e]=n&255}function writeVarint32(n,t,e){for(;n>127;)t[e++]=n&127|128,n>>>=7;t[e]=n}function VarintOp(n,t){this.len=n,this.next=void 0,this.val=t}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function n(t){return this.len+=(this.tail=this.tail.next=new VarintOp((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};Writer$1.prototype.int32=function n(t){return t<0?this._push(writeVarint64,10,LongBits$1.fromNumber(t)):this.uint32(t)};Writer$1.prototype.sint32=function n(t){return this.uint32((t<<1^t>>31)>>>0)};function writeVarint64(n,t,e){for(;n.hi;)t[e++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)t[e++]=n.lo&127|128,n.lo=n.lo>>>7;t[e++]=n.lo}Writer$1.prototype.uint64=function n(t){var e=LongBits$1.from(t);return this._push(writeVarint64,e.length(),e)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function n(t){var e=LongBits$1.from(t).zzEncode();return this._push(writeVarint64,e.length(),e)};Writer$1.prototype.bool=function n(t){return this._push(writeByte,1,t?1:0)};function writeFixed32(n,t,e){t[e]=n&255,t[e+1]=n>>>8&255,t[e+2]=n>>>16&255,t[e+3]=n>>>24}Writer$1.prototype.fixed32=function n(t){return this._push(writeFixed32,4,t>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function n(t){var e=LongBits$1.from(t);return this._push(writeFixed32,4,e.lo)._push(writeFixed32,4,e.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function n(t){return this._push(util$4.float.writeFloatLE,4,t)};Writer$1.prototype.double=function n(t){return this._push(util$4.float.writeDoubleLE,8,t)};var writeBytes=util$4.Array.prototype.set?function n(t,e,r){e.set(t,r)}:function n(t,e,r){for(var i=0;i<t.length;++i)e[r+i]=t[i]};Writer$1.prototype.bytes=function n(t){var e=t.length>>>0;if(!e)return this._push(writeByte,1,0);if(util$4.isString(t)){var r=Writer$1.alloc(e=base64.length(t));base64.decode(t,r,0),t=r}return this.uint32(e)._push(writeBytes,e,t)};Writer$1.prototype.string=function n(t){var e=utf8$1.length(t);return e?this.uint32(e)._push(utf8$1.write,e,t):this._push(writeByte,1,0)};Writer$1.prototype.fork=function n(){return this.states=new State(this),this.head=this.tail=new Op(noop$1,0,0),this.len=0,this};Writer$1.prototype.reset=function n(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$1,0,0),this.len=0),this};Writer$1.prototype.ldelim=function n(){var t=this.head,e=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=e,this.len+=r),this};Writer$1.prototype.finish=function n(){for(var t=this.head.next,e=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,e,r),r+=t.len,t=t.next;return e};Writer$1._configure=function(n){BufferWriter$1=n,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(n,t,e){t.set(n,e)}:function(n,t,e){if(n.copy)n.copy(t,e,0,n.length);else for(var r=0;r<n.length;)t[e++]=n[r++]}};BufferWriter.prototype.bytes=function n(t){util$3.isString(t)&&(t=util$3._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(BufferWriter.writeBytesBuffer,e,t),this};function writeStringBuffer(n,t,e){n.length<40?util$3.utf8.write(n,t,e):t.utf8Write?t.utf8Write(n,e):t.write(n,e)}BufferWriter.prototype.string=function n(t){var e=util$3.Buffer.byteLength(t);return this.uint32(e),e&&this._push(writeStringBuffer,e,t),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(n,t){return RangeError("index out of range: "+n.pos+" + "+(t||1)+" > "+n.len)}function Reader$1(n){this.buf=n,this.pos=0,this.len=n.length}var create_array=typeof Uint8Array<"u"?function n(t){if(t instanceof Uint8Array||Array.isArray(t))return new Reader$1(t);throw Error("illegal buffer")}:function n(t){if(Array.isArray(t))return new Reader$1(t);throw Error("illegal buffer")},create=function n(){return util$2.Buffer?function(t){return(Reader$1.create=function(e){return util$2.Buffer.isBuffer(e)?new BufferReader$1(e):create_array(e)})(t)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function n(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return t}}();Reader$1.prototype.int32=function n(){return this.uint32()|0};Reader$1.prototype.sint32=function n(){var t=this.uint32();return t>>>1^-(t&1)|0};function readLongVarint(){var n=new LongBits(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,n}if(this.len-this.pos>4){for(;t<5;++t)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function n(){return this.uint32()!==0};function readFixed32_end(n,t){return(n[t-4]|n[t-3]<<8|n[t-2]<<16|n[t-1]<<24)>>>0}Reader$1.prototype.fixed32=function n(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function n(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function n(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var t=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};Reader$1.prototype.double=function n(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var t=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};Reader$1.prototype.bytes=function n(){var t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw indexOutOfRange(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,r):e===r?new this.buf.constructor(0):this._slice.call(this.buf,e,r)};Reader$1.prototype.string=function n(){var t=this.bytes();return utf8.read(t,0,t.length)};Reader$1.prototype.skip=function n(t){if(typeof t=="number"){if(this.pos+t>this.len)throw indexOutOfRange(this,t);this.pos+=t}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};Reader$1._configure=function(n){BufferReader$1=n,Reader$1.create=create(),BufferReader$1._configure();var t=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(n){Reader.call(this,n)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function n(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(n,t,e){if(typeof n!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!t,this.responseDelimited=!!e}Service.prototype.rpcCall=function n(t,e,r,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return util.asPromise(n,s,t,e,r,i);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(t,e[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(a,c){if(a)return s.emit("error",a,t),o(a);if(c===null){s.end(!0);return}if(!(c instanceof r))try{c=r[s.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return s.emit("error",u,t),o(u)}return s.emit("data",c,t),o(null,c)})}catch(a){s.emit("error",a,t),setTimeout(function(){o(a)},0);return}};Service.prototype.end=function n(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(n){var t=n;t.Service=service})(rpc);var roots={};(function(n){var t=n;t.build="minimal",t.Writer=writer,t.BufferWriter=writer_buffer,t.Reader=reader,t.BufferReader=reader_buffer,t.util=requireMinimal(),t.rpc=rpc,t.roots=roots,t.configure=e;function e(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}e()})(indexMinimal);var minimal=indexMinimal,$protobuf=minimal,$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots.default||($protobuf.roots.default={});$root.ics23=function(){var n={};return n.HashOp=function(){var t={},e=Object.create(t);return e[t[0]="NO_HASH"]=0,e[t[1]="SHA256"]=1,e[t[2]="SHA512"]=2,e[t[3]="KECCAK"]=3,e[t[4]="RIPEMD160"]=4,e[t[5]="BITCOIN"]=5,e[t[6]="SHA512_256"]=6,e}(),n.LengthOp=function(){var t={},e=Object.create(t);return e[t[0]="NO_PREFIX"]=0,e[t[1]="VAR_PROTO"]=1,e[t[2]="VAR_RLP"]=2,e[t[3]="FIXED32_BIG"]=3,e[t[4]="FIXED32_LITTLE"]=4,e[t[5]="FIXED64_BIG"]=5,e[t[6]="FIXED64_LITTLE"]=6,e[t[7]="REQUIRE_32_BYTES"]=7,e[t[8]="REQUIRE_64_BYTES"]=8,e}(),n.ExistenceProof=function(){function t(e){if(this.path=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.key=$util.newBuffer([]),t.prototype.value=$util.newBuffer([]),t.prototype.leaf=null,t.prototype.path=$util.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=$Writer.create()),e.key!=null&&e.hasOwnProperty("key")&&r.uint32(10).bytes(e.key),e.value!=null&&e.hasOwnProperty("value")&&r.uint32(18).bytes(e.value),e.leaf!=null&&e.hasOwnProperty("leaf")&&$root.ics23.LeafOp.encode(e.leaf,r.uint32(26).fork()).ldelim(),e.path!=null&&e.path.length)for(var i=0;i<e.path.length;++i)$root.ics23.InnerOp.encode(e.path[i],r.uint32(34).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.ExistenceProof;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.key=e.bytes();break;case 2:o.value=e.bytes();break;case 3:o.leaf=$root.ics23.LeafOp.decode(e,e.uint32());break;case 4:o.path&&o.path.length||(o.path=[]),o.path.push($root.ics23.InnerOp.decode(e,e.uint32()));break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.key!=null&&e.hasOwnProperty("key")&&!(e.key&&typeof e.key.length=="number"||$util.isString(e.key)))return"key: buffer expected";if(e.value!=null&&e.hasOwnProperty("value")&&!(e.value&&typeof e.value.length=="number"||$util.isString(e.value)))return"value: buffer expected";if(e.leaf!=null&&e.hasOwnProperty("leaf")){var r=$root.ics23.LeafOp.verify(e.leaf);if(r)return"leaf."+r}if(e.path!=null&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var i=0;i<e.path.length;++i){var r=$root.ics23.InnerOp.verify(e.path[i]);if(r)return"path."+r}}return null},t.fromObject=function(e){if(e instanceof $root.ics23.ExistenceProof)return e;var r=new $root.ics23.ExistenceProof;if(e.key!=null&&(typeof e.key=="string"?$util.base64.decode(e.key,r.key=$util.newBuffer($util.base64.length(e.key)),0):e.key.length&&(r.key=e.key)),e.value!=null&&(typeof e.value=="string"?$util.base64.decode(e.value,r.value=$util.newBuffer($util.base64.length(e.value)),0):e.value.length&&(r.value=e.value)),e.leaf!=null){if(typeof e.leaf!="object")throw TypeError(".ics23.ExistenceProof.leaf: object expected");r.leaf=$root.ics23.LeafOp.fromObject(e.leaf)}if(e.path){if(!Array.isArray(e.path))throw TypeError(".ics23.ExistenceProof.path: array expected");r.path=[];for(var i=0;i<e.path.length;++i){if(typeof e.path[i]!="object")throw TypeError(".ics23.ExistenceProof.path: object expected");r.path[i]=$root.ics23.InnerOp.fromObject(e.path[i])}}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.path=[]),r.defaults&&(r.bytes===String?i.key="":(i.key=[],r.bytes!==Array&&(i.key=$util.newBuffer(i.key))),r.bytes===String?i.value="":(i.value=[],r.bytes!==Array&&(i.value=$util.newBuffer(i.value))),i.leaf=null),e.key!=null&&e.hasOwnProperty("key")&&(i.key=r.bytes===String?$util.base64.encode(e.key,0,e.key.length):r.bytes===Array?Array.prototype.slice.call(e.key):e.key),e.value!=null&&e.hasOwnProperty("value")&&(i.value=r.bytes===String?$util.base64.encode(e.value,0,e.value.length):r.bytes===Array?Array.prototype.slice.call(e.value):e.value),e.leaf!=null&&e.hasOwnProperty("leaf")&&(i.leaf=$root.ics23.LeafOp.toObject(e.leaf,r)),e.path&&e.path.length){i.path=[];for(var o=0;o<e.path.length;++o)i.path[o]=$root.ics23.InnerOp.toObject(e.path[o],r)}return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.NonExistenceProof=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.key=$util.newBuffer([]),t.prototype.left=null,t.prototype.right=null,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=$Writer.create()),e.key!=null&&e.hasOwnProperty("key")&&r.uint32(10).bytes(e.key),e.left!=null&&e.hasOwnProperty("left")&&$root.ics23.ExistenceProof.encode(e.left,r.uint32(18).fork()).ldelim(),e.right!=null&&e.hasOwnProperty("right")&&$root.ics23.ExistenceProof.encode(e.right,r.uint32(26).fork()).ldelim(),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.NonExistenceProof;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.key=e.bytes();break;case 2:o.left=$root.ics23.ExistenceProof.decode(e,e.uint32());break;case 3:o.right=$root.ics23.ExistenceProof.decode(e,e.uint32());break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.key!=null&&e.hasOwnProperty("key")&&!(e.key&&typeof e.key.length=="number"||$util.isString(e.key)))return"key: buffer expected";if(e.left!=null&&e.hasOwnProperty("left")){var r=$root.ics23.ExistenceProof.verify(e.left);if(r)return"left."+r}if(e.right!=null&&e.hasOwnProperty("right")){var r=$root.ics23.ExistenceProof.verify(e.right);if(r)return"right."+r}return null},t.fromObject=function(e){if(e instanceof $root.ics23.NonExistenceProof)return e;var r=new $root.ics23.NonExistenceProof;if(e.key!=null&&(typeof e.key=="string"?$util.base64.decode(e.key,r.key=$util.newBuffer($util.base64.length(e.key)),0):e.key.length&&(r.key=e.key)),e.left!=null){if(typeof e.left!="object")throw TypeError(".ics23.NonExistenceProof.left: object expected");r.left=$root.ics23.ExistenceProof.fromObject(e.left)}if(e.right!=null){if(typeof e.right!="object")throw TypeError(".ics23.NonExistenceProof.right: object expected");r.right=$root.ics23.ExistenceProof.fromObject(e.right)}return r},t.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(r.bytes===String?i.key="":(i.key=[],r.bytes!==Array&&(i.key=$util.newBuffer(i.key))),i.left=null,i.right=null),e.key!=null&&e.hasOwnProperty("key")&&(i.key=r.bytes===String?$util.base64.encode(e.key,0,e.key.length):r.bytes===Array?Array.prototype.slice.call(e.key):e.key),e.left!=null&&e.hasOwnProperty("left")&&(i.left=$root.ics23.ExistenceProof.toObject(e.left,r)),e.right!=null&&e.hasOwnProperty("right")&&(i.right=$root.ics23.ExistenceProof.toObject(e.right,r)),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.CommitmentProof=function(){function t(r){if(r)for(var i=Object.keys(r),o=0;o<i.length;++o)r[i[o]]!=null&&(this[i[o]]=r[i[o]])}t.prototype.exist=null,t.prototype.nonexist=null,t.prototype.batch=null,t.prototype.compressed=null;var e;return Object.defineProperty(t.prototype,"proof",{get:$util.oneOfGetter(e=["exist","nonexist","batch","compressed"]),set:$util.oneOfSetter(e)}),t.create=function(r){return new t(r)},t.encode=function(r,i){return i||(i=$Writer.create()),r.exist!=null&&r.hasOwnProperty("exist")&&$root.ics23.ExistenceProof.encode(r.exist,i.uint32(10).fork()).ldelim(),r.nonexist!=null&&r.hasOwnProperty("nonexist")&&$root.ics23.NonExistenceProof.encode(r.nonexist,i.uint32(18).fork()).ldelim(),r.batch!=null&&r.hasOwnProperty("batch")&&$root.ics23.BatchProof.encode(r.batch,i.uint32(26).fork()).ldelim(),r.compressed!=null&&r.hasOwnProperty("compressed")&&$root.ics23.CompressedBatchProof.encode(r.compressed,i.uint32(34).fork()).ldelim(),i},t.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},t.decode=function(r,i){r instanceof $Reader||(r=$Reader.create(r));for(var o=i===void 0?r.len:r.pos+i,s=new $root.ics23.CommitmentProof;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.exist=$root.ics23.ExistenceProof.decode(r,r.uint32());break;case 2:s.nonexist=$root.ics23.NonExistenceProof.decode(r,r.uint32());break;case 3:s.batch=$root.ics23.BatchProof.decode(r,r.uint32());break;case 4:s.compressed=$root.ics23.CompressedBatchProof.decode(r,r.uint32());break;default:r.skipType(a&7);break}}return s},t.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var i={};if(r.exist!=null&&r.hasOwnProperty("exist")){i.proof=1;{var o=$root.ics23.ExistenceProof.verify(r.exist);if(o)return"exist."+o}}if(r.nonexist!=null&&r.hasOwnProperty("nonexist")){if(i.proof===1)return"proof: multiple values";i.proof=1;{var o=$root.ics23.NonExistenceProof.verify(r.nonexist);if(o)return"nonexist."+o}}if(r.batch!=null&&r.hasOwnProperty("batch")){if(i.proof===1)return"proof: multiple values";i.proof=1;{var o=$root.ics23.BatchProof.verify(r.batch);if(o)return"batch."+o}}if(r.compressed!=null&&r.hasOwnProperty("compressed")){if(i.proof===1)return"proof: multiple values";i.proof=1;{var o=$root.ics23.CompressedBatchProof.verify(r.compressed);if(o)return"compressed."+o}}return null},t.fromObject=function(r){if(r instanceof $root.ics23.CommitmentProof)return r;var i=new $root.ics23.CommitmentProof;if(r.exist!=null){if(typeof r.exist!="object")throw TypeError(".ics23.CommitmentProof.exist: object expected");i.exist=$root.ics23.ExistenceProof.fromObject(r.exist)}if(r.nonexist!=null){if(typeof r.nonexist!="object")throw TypeError(".ics23.CommitmentProof.nonexist: object expected");i.nonexist=$root.ics23.NonExistenceProof.fromObject(r.nonexist)}if(r.batch!=null){if(typeof r.batch!="object")throw TypeError(".ics23.CommitmentProof.batch: object expected");i.batch=$root.ics23.BatchProof.fromObject(r.batch)}if(r.compressed!=null){if(typeof r.compressed!="object")throw TypeError(".ics23.CommitmentProof.compressed: object expected");i.compressed=$root.ics23.CompressedBatchProof.fromObject(r.compressed)}return i},t.toObject=function(r,i){i||(i={});var o={};return r.exist!=null&&r.hasOwnProperty("exist")&&(o.exist=$root.ics23.ExistenceProof.toObject(r.exist,i),i.oneofs&&(o.proof="exist")),r.nonexist!=null&&r.hasOwnProperty("nonexist")&&(o.nonexist=$root.ics23.NonExistenceProof.toObject(r.nonexist,i),i.oneofs&&(o.proof="nonexist")),r.batch!=null&&r.hasOwnProperty("batch")&&(o.batch=$root.ics23.BatchProof.toObject(r.batch,i),i.oneofs&&(o.proof="batch")),r.compressed!=null&&r.hasOwnProperty("compressed")&&(o.compressed=$root.ics23.CompressedBatchProof.toObject(r.compressed,i),i.oneofs&&(o.proof="compressed")),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.LeafOp=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.hash=0,t.prototype.prehashKey=0,t.prototype.prehashValue=0,t.prototype.length=0,t.prototype.prefix=$util.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=$Writer.create()),e.hash!=null&&e.hasOwnProperty("hash")&&r.uint32(8).int32(e.hash),e.prehashKey!=null&&e.hasOwnProperty("prehashKey")&&r.uint32(16).int32(e.prehashKey),e.prehashValue!=null&&e.hasOwnProperty("prehashValue")&&r.uint32(24).int32(e.prehashValue),e.length!=null&&e.hasOwnProperty("length")&&r.uint32(32).int32(e.length),e.prefix!=null&&e.hasOwnProperty("prefix")&&r.uint32(42).bytes(e.prefix),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.LeafOp;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.hash=e.int32();break;case 2:o.prehashKey=e.int32();break;case 3:o.prehashValue=e.int32();break;case 4:o.length=e.int32();break;case 5:o.prefix=e.bytes();break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.hash!=null&&e.hasOwnProperty("hash"))switch(e.hash){default:return"hash: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}if(e.prehashKey!=null&&e.hasOwnProperty("prehashKey"))switch(e.prehashKey){default:return"prehashKey: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}if(e.prehashValue!=null&&e.hasOwnProperty("prehashValue"))switch(e.prehashValue){default:return"prehashValue: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}if(e.length!=null&&e.hasOwnProperty("length"))switch(e.length){default:return"length: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:break}return e.prefix!=null&&e.hasOwnProperty("prefix")&&!(e.prefix&&typeof e.prefix.length=="number"||$util.isString(e.prefix))?"prefix: buffer expected":null},t.fromObject=function(e){if(e instanceof $root.ics23.LeafOp)return e;var r=new $root.ics23.LeafOp;switch(e.hash){case"NO_HASH":case 0:r.hash=0;break;case"SHA256":case 1:r.hash=1;break;case"SHA512":case 2:r.hash=2;break;case"KECCAK":case 3:r.hash=3;break;case"RIPEMD160":case 4:r.hash=4;break;case"BITCOIN":case 5:r.hash=5;break;case"SHA512_256":case 6:r.hash=6;break}switch(e.prehashKey){case"NO_HASH":case 0:r.prehashKey=0;break;case"SHA256":case 1:r.prehashKey=1;break;case"SHA512":case 2:r.prehashKey=2;break;case"KECCAK":case 3:r.prehashKey=3;break;case"RIPEMD160":case 4:r.prehashKey=4;break;case"BITCOIN":case 5:r.prehashKey=5;break;case"SHA512_256":case 6:r.prehashKey=6;break}switch(e.prehashValue){case"NO_HASH":case 0:r.prehashValue=0;break;case"SHA256":case 1:r.prehashValue=1;break;case"SHA512":case 2:r.prehashValue=2;break;case"KECCAK":case 3:r.prehashValue=3;break;case"RIPEMD160":case 4:r.prehashValue=4;break;case"BITCOIN":case 5:r.prehashValue=5;break;case"SHA512_256":case 6:r.prehashValue=6;break}switch(e.length){case"NO_PREFIX":case 0:r.length=0;break;case"VAR_PROTO":case 1:r.length=1;break;case"VAR_RLP":case 2:r.length=2;break;case"FIXED32_BIG":case 3:r.length=3;break;case"FIXED32_LITTLE":case 4:r.length=4;break;case"FIXED64_BIG":case 5:r.length=5;break;case"FIXED64_LITTLE":case 6:r.length=6;break;case"REQUIRE_32_BYTES":case 7:r.length=7;break;case"REQUIRE_64_BYTES":case 8:r.length=8;break}return e.prefix!=null&&(typeof e.prefix=="string"?$util.base64.decode(e.prefix,r.prefix=$util.newBuffer($util.base64.length(e.prefix)),0):e.prefix.length&&(r.prefix=e.prefix)),r},t.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(i.hash=r.enums===String?"NO_HASH":0,i.prehashKey=r.enums===String?"NO_HASH":0,i.prehashValue=r.enums===String?"NO_HASH":0,i.length=r.enums===String?"NO_PREFIX":0,r.bytes===String?i.prefix="":(i.prefix=[],r.bytes!==Array&&(i.prefix=$util.newBuffer(i.prefix)))),e.hash!=null&&e.hasOwnProperty("hash")&&(i.hash=r.enums===String?$root.ics23.HashOp[e.hash]:e.hash),e.prehashKey!=null&&e.hasOwnProperty("prehashKey")&&(i.prehashKey=r.enums===String?$root.ics23.HashOp[e.prehashKey]:e.prehashKey),e.prehashValue!=null&&e.hasOwnProperty("prehashValue")&&(i.prehashValue=r.enums===String?$root.ics23.HashOp[e.prehashValue]:e.prehashValue),e.length!=null&&e.hasOwnProperty("length")&&(i.length=r.enums===String?$root.ics23.LengthOp[e.length]:e.length),e.prefix!=null&&e.hasOwnProperty("prefix")&&(i.prefix=r.bytes===String?$util.base64.encode(e.prefix,0,e.prefix.length):r.bytes===Array?Array.prototype.slice.call(e.prefix):e.prefix),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.InnerOp=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.hash=0,t.prototype.prefix=$util.newBuffer([]),t.prototype.suffix=$util.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=$Writer.create()),e.hash!=null&&e.hasOwnProperty("hash")&&r.uint32(8).int32(e.hash),e.prefix!=null&&e.hasOwnProperty("prefix")&&r.uint32(18).bytes(e.prefix),e.suffix!=null&&e.hasOwnProperty("suffix")&&r.uint32(26).bytes(e.suffix),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.InnerOp;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.hash=e.int32();break;case 2:o.prefix=e.bytes();break;case 3:o.suffix=e.bytes();break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.hash!=null&&e.hasOwnProperty("hash"))switch(e.hash){default:return"hash: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}return e.prefix!=null&&e.hasOwnProperty("prefix")&&!(e.prefix&&typeof e.prefix.length=="number"||$util.isString(e.prefix))?"prefix: buffer expected":e.suffix!=null&&e.hasOwnProperty("suffix")&&!(e.suffix&&typeof e.suffix.length=="number"||$util.isString(e.suffix))?"suffix: buffer expected":null},t.fromObject=function(e){if(e instanceof $root.ics23.InnerOp)return e;var r=new $root.ics23.InnerOp;switch(e.hash){case"NO_HASH":case 0:r.hash=0;break;case"SHA256":case 1:r.hash=1;break;case"SHA512":case 2:r.hash=2;break;case"KECCAK":case 3:r.hash=3;break;case"RIPEMD160":case 4:r.hash=4;break;case"BITCOIN":case 5:r.hash=5;break;case"SHA512_256":case 6:r.hash=6;break}return e.prefix!=null&&(typeof e.prefix=="string"?$util.base64.decode(e.prefix,r.prefix=$util.newBuffer($util.base64.length(e.prefix)),0):e.prefix.length&&(r.prefix=e.prefix)),e.suffix!=null&&(typeof e.suffix=="string"?$util.base64.decode(e.suffix,r.suffix=$util.newBuffer($util.base64.length(e.suffix)),0):e.suffix.length&&(r.suffix=e.suffix)),r},t.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(i.hash=r.enums===String?"NO_HASH":0,r.bytes===String?i.prefix="":(i.prefix=[],r.bytes!==Array&&(i.prefix=$util.newBuffer(i.prefix))),r.bytes===String?i.suffix="":(i.suffix=[],r.bytes!==Array&&(i.suffix=$util.newBuffer(i.suffix)))),e.hash!=null&&e.hasOwnProperty("hash")&&(i.hash=r.enums===String?$root.ics23.HashOp[e.hash]:e.hash),e.prefix!=null&&e.hasOwnProperty("prefix")&&(i.prefix=r.bytes===String?$util.base64.encode(e.prefix,0,e.prefix.length):r.bytes===Array?Array.prototype.slice.call(e.prefix):e.prefix),e.suffix!=null&&e.hasOwnProperty("suffix")&&(i.suffix=r.bytes===String?$util.base64.encode(e.suffix,0,e.suffix.length):r.bytes===Array?Array.prototype.slice.call(e.suffix):e.suffix),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.ProofSpec=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.leafSpec=null,t.prototype.innerSpec=null,t.prototype.maxDepth=0,t.prototype.minDepth=0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=$Writer.create()),e.leafSpec!=null&&e.hasOwnProperty("leafSpec")&&$root.ics23.LeafOp.encode(e.leafSpec,r.uint32(10).fork()).ldelim(),e.innerSpec!=null&&e.hasOwnProperty("innerSpec")&&$root.ics23.InnerSpec.encode(e.innerSpec,r.uint32(18).fork()).ldelim(),e.maxDepth!=null&&e.hasOwnProperty("maxDepth")&&r.uint32(24).int32(e.maxDepth),e.minDepth!=null&&e.hasOwnProperty("minDepth")&&r.uint32(32).int32(e.minDepth),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.ProofSpec;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.leafSpec=$root.ics23.LeafOp.decode(e,e.uint32());break;case 2:o.innerSpec=$root.ics23.InnerSpec.decode(e,e.uint32());break;case 3:o.maxDepth=e.int32();break;case 4:o.minDepth=e.int32();break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.leafSpec!=null&&e.hasOwnProperty("leafSpec")){var r=$root.ics23.LeafOp.verify(e.leafSpec);if(r)return"leafSpec."+r}if(e.innerSpec!=null&&e.hasOwnProperty("innerSpec")){var r=$root.ics23.InnerSpec.verify(e.innerSpec);if(r)return"innerSpec."+r}return e.maxDepth!=null&&e.hasOwnProperty("maxDepth")&&!$util.isInteger(e.maxDepth)?"maxDepth: integer expected":e.minDepth!=null&&e.hasOwnProperty("minDepth")&&!$util.isInteger(e.minDepth)?"minDepth: integer expected":null},t.fromObject=function(e){if(e instanceof $root.ics23.ProofSpec)return e;var r=new $root.ics23.ProofSpec;if(e.leafSpec!=null){if(typeof e.leafSpec!="object")throw TypeError(".ics23.ProofSpec.leafSpec: object expected");r.leafSpec=$root.ics23.LeafOp.fromObject(e.leafSpec)}if(e.innerSpec!=null){if(typeof e.innerSpec!="object")throw TypeError(".ics23.ProofSpec.innerSpec: object expected");r.innerSpec=$root.ics23.InnerSpec.fromObject(e.innerSpec)}return e.maxDepth!=null&&(r.maxDepth=e.maxDepth|0),e.minDepth!=null&&(r.minDepth=e.minDepth|0),r},t.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(i.leafSpec=null,i.innerSpec=null,i.maxDepth=0,i.minDepth=0),e.leafSpec!=null&&e.hasOwnProperty("leafSpec")&&(i.leafSpec=$root.ics23.LeafOp.toObject(e.leafSpec,r)),e.innerSpec!=null&&e.hasOwnProperty("innerSpec")&&(i.innerSpec=$root.ics23.InnerSpec.toObject(e.innerSpec,r)),e.maxDepth!=null&&e.hasOwnProperty("maxDepth")&&(i.maxDepth=e.maxDepth),e.minDepth!=null&&e.hasOwnProperty("minDepth")&&(i.minDepth=e.minDepth),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.InnerSpec=function(){function t(e){if(this.childOrder=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.childOrder=$util.emptyArray,t.prototype.childSize=0,t.prototype.minPrefixLength=0,t.prototype.maxPrefixLength=0,t.prototype.emptyChild=$util.newBuffer([]),t.prototype.hash=0,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=$Writer.create()),e.childOrder!=null&&e.childOrder.length){r.uint32(10).fork();for(var i=0;i<e.childOrder.length;++i)r.int32(e.childOrder[i]);r.ldelim()}return e.childSize!=null&&e.hasOwnProperty("childSize")&&r.uint32(16).int32(e.childSize),e.minPrefixLength!=null&&e.hasOwnProperty("minPrefixLength")&&r.uint32(24).int32(e.minPrefixLength),e.maxPrefixLength!=null&&e.hasOwnProperty("maxPrefixLength")&&r.uint32(32).int32(e.maxPrefixLength),e.emptyChild!=null&&e.hasOwnProperty("emptyChild")&&r.uint32(42).bytes(e.emptyChild),e.hash!=null&&e.hasOwnProperty("hash")&&r.uint32(48).int32(e.hash),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.InnerSpec;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:if(o.childOrder&&o.childOrder.length||(o.childOrder=[]),(s&7)===2)for(var a=e.uint32()+e.pos;e.pos<a;)o.childOrder.push(e.int32());else o.childOrder.push(e.int32());break;case 2:o.childSize=e.int32();break;case 3:o.minPrefixLength=e.int32();break;case 4:o.maxPrefixLength=e.int32();break;case 5:o.emptyChild=e.bytes();break;case 6:o.hash=e.int32();break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.childOrder!=null&&e.hasOwnProperty("childOrder")){if(!Array.isArray(e.childOrder))return"childOrder: array expected";for(var r=0;r<e.childOrder.length;++r)if(!$util.isInteger(e.childOrder[r]))return"childOrder: integer[] expected"}if(e.childSize!=null&&e.hasOwnProperty("childSize")&&!$util.isInteger(e.childSize))return"childSize: integer expected";if(e.minPrefixLength!=null&&e.hasOwnProperty("minPrefixLength")&&!$util.isInteger(e.minPrefixLength))return"minPrefixLength: integer expected";if(e.maxPrefixLength!=null&&e.hasOwnProperty("maxPrefixLength")&&!$util.isInteger(e.maxPrefixLength))return"maxPrefixLength: integer expected";if(e.emptyChild!=null&&e.hasOwnProperty("emptyChild")&&!(e.emptyChild&&typeof e.emptyChild.length=="number"||$util.isString(e.emptyChild)))return"emptyChild: buffer expected";if(e.hash!=null&&e.hasOwnProperty("hash"))switch(e.hash){default:return"hash: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}return null},t.fromObject=function(e){if(e instanceof $root.ics23.InnerSpec)return e;var r=new $root.ics23.InnerSpec;if(e.childOrder){if(!Array.isArray(e.childOrder))throw TypeError(".ics23.InnerSpec.childOrder: array expected");r.childOrder=[];for(var i=0;i<e.childOrder.length;++i)r.childOrder[i]=e.childOrder[i]|0}switch(e.childSize!=null&&(r.childSize=e.childSize|0),e.minPrefixLength!=null&&(r.minPrefixLength=e.minPrefixLength|0),e.maxPrefixLength!=null&&(r.maxPrefixLength=e.maxPrefixLength|0),e.emptyChild!=null&&(typeof e.emptyChild=="string"?$util.base64.decode(e.emptyChild,r.emptyChild=$util.newBuffer($util.base64.length(e.emptyChild)),0):e.emptyChild.length&&(r.emptyChild=e.emptyChild)),e.hash){case"NO_HASH":case 0:r.hash=0;break;case"SHA256":case 1:r.hash=1;break;case"SHA512":case 2:r.hash=2;break;case"KECCAK":case 3:r.hash=3;break;case"RIPEMD160":case 4:r.hash=4;break;case"BITCOIN":case 5:r.hash=5;break;case"SHA512_256":case 6:r.hash=6;break}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.childOrder=[]),r.defaults&&(i.childSize=0,i.minPrefixLength=0,i.maxPrefixLength=0,r.bytes===String?i.emptyChild="":(i.emptyChild=[],r.bytes!==Array&&(i.emptyChild=$util.newBuffer(i.emptyChild))),i.hash=r.enums===String?"NO_HASH":0),e.childOrder&&e.childOrder.length){i.childOrder=[];for(var o=0;o<e.childOrder.length;++o)i.childOrder[o]=e.childOrder[o]}return e.childSize!=null&&e.hasOwnProperty("childSize")&&(i.childSize=e.childSize),e.minPrefixLength!=null&&e.hasOwnProperty("minPrefixLength")&&(i.minPrefixLength=e.minPrefixLength),e.maxPrefixLength!=null&&e.hasOwnProperty("maxPrefixLength")&&(i.maxPrefixLength=e.maxPrefixLength),e.emptyChild!=null&&e.hasOwnProperty("emptyChild")&&(i.emptyChild=r.bytes===String?$util.base64.encode(e.emptyChild,0,e.emptyChild.length):r.bytes===Array?Array.prototype.slice.call(e.emptyChild):e.emptyChild),e.hash!=null&&e.hasOwnProperty("hash")&&(i.hash=r.enums===String?$root.ics23.HashOp[e.hash]:e.hash),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.BatchProof=function(){function t(e){if(this.entries=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.entries=$util.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=$Writer.create()),e.entries!=null&&e.entries.length)for(var i=0;i<e.entries.length;++i)$root.ics23.BatchEntry.encode(e.entries[i],r.uint32(10).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.BatchProof;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.entries&&o.entries.length||(o.entries=[]),o.entries.push($root.ics23.BatchEntry.decode(e,e.uint32()));break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.entries!=null&&e.hasOwnProperty("entries")){if(!Array.isArray(e.entries))return"entries: array expected";for(var r=0;r<e.entries.length;++r){var i=$root.ics23.BatchEntry.verify(e.entries[r]);if(i)return"entries."+i}}return null},t.fromObject=function(e){if(e instanceof $root.ics23.BatchProof)return e;var r=new $root.ics23.BatchProof;if(e.entries){if(!Array.isArray(e.entries))throw TypeError(".ics23.BatchProof.entries: array expected");r.entries=[];for(var i=0;i<e.entries.length;++i){if(typeof e.entries[i]!="object")throw TypeError(".ics23.BatchProof.entries: object expected");r.entries[i]=$root.ics23.BatchEntry.fromObject(e.entries[i])}}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.entries=[]),e.entries&&e.entries.length){i.entries=[];for(var o=0;o<e.entries.length;++o)i.entries[o]=$root.ics23.BatchEntry.toObject(e.entries[o],r)}return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.BatchEntry=function(){function t(r){if(r)for(var i=Object.keys(r),o=0;o<i.length;++o)r[i[o]]!=null&&(this[i[o]]=r[i[o]])}t.prototype.exist=null,t.prototype.nonexist=null;var e;return Object.defineProperty(t.prototype,"proof",{get:$util.oneOfGetter(e=["exist","nonexist"]),set:$util.oneOfSetter(e)}),t.create=function(r){return new t(r)},t.encode=function(r,i){return i||(i=$Writer.create()),r.exist!=null&&r.hasOwnProperty("exist")&&$root.ics23.ExistenceProof.encode(r.exist,i.uint32(10).fork()).ldelim(),r.nonexist!=null&&r.hasOwnProperty("nonexist")&&$root.ics23.NonExistenceProof.encode(r.nonexist,i.uint32(18).fork()).ldelim(),i},t.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},t.decode=function(r,i){r instanceof $Reader||(r=$Reader.create(r));for(var o=i===void 0?r.len:r.pos+i,s=new $root.ics23.BatchEntry;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.exist=$root.ics23.ExistenceProof.decode(r,r.uint32());break;case 2:s.nonexist=$root.ics23.NonExistenceProof.decode(r,r.uint32());break;default:r.skipType(a&7);break}}return s},t.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var i={};if(r.exist!=null&&r.hasOwnProperty("exist")){i.proof=1;{var o=$root.ics23.ExistenceProof.verify(r.exist);if(o)return"exist."+o}}if(r.nonexist!=null&&r.hasOwnProperty("nonexist")){if(i.proof===1)return"proof: multiple values";i.proof=1;{var o=$root.ics23.NonExistenceProof.verify(r.nonexist);if(o)return"nonexist."+o}}return null},t.fromObject=function(r){if(r instanceof $root.ics23.BatchEntry)return r;var i=new $root.ics23.BatchEntry;if(r.exist!=null){if(typeof r.exist!="object")throw TypeError(".ics23.BatchEntry.exist: object expected");i.exist=$root.ics23.ExistenceProof.fromObject(r.exist)}if(r.nonexist!=null){if(typeof r.nonexist!="object")throw TypeError(".ics23.BatchEntry.nonexist: object expected");i.nonexist=$root.ics23.NonExistenceProof.fromObject(r.nonexist)}return i},t.toObject=function(r,i){i||(i={});var o={};return r.exist!=null&&r.hasOwnProperty("exist")&&(o.exist=$root.ics23.ExistenceProof.toObject(r.exist,i),i.oneofs&&(o.proof="exist")),r.nonexist!=null&&r.hasOwnProperty("nonexist")&&(o.nonexist=$root.ics23.NonExistenceProof.toObject(r.nonexist,i),i.oneofs&&(o.proof="nonexist")),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.CompressedBatchProof=function(){function t(e){if(this.entries=[],this.lookupInners=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.entries=$util.emptyArray,t.prototype.lookupInners=$util.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=$Writer.create()),e.entries!=null&&e.entries.length)for(var i=0;i<e.entries.length;++i)$root.ics23.CompressedBatchEntry.encode(e.entries[i],r.uint32(10).fork()).ldelim();if(e.lookupInners!=null&&e.lookupInners.length)for(var i=0;i<e.lookupInners.length;++i)$root.ics23.InnerOp.encode(e.lookupInners[i],r.uint32(18).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.CompressedBatchProof;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.entries&&o.entries.length||(o.entries=[]),o.entries.push($root.ics23.CompressedBatchEntry.decode(e,e.uint32()));break;case 2:o.lookupInners&&o.lookupInners.length||(o.lookupInners=[]),o.lookupInners.push($root.ics23.InnerOp.decode(e,e.uint32()));break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.entries!=null&&e.hasOwnProperty("entries")){if(!Array.isArray(e.entries))return"entries: array expected";for(var r=0;r<e.entries.length;++r){var i=$root.ics23.CompressedBatchEntry.verify(e.entries[r]);if(i)return"entries."+i}}if(e.lookupInners!=null&&e.hasOwnProperty("lookupInners")){if(!Array.isArray(e.lookupInners))return"lookupInners: array expected";for(var r=0;r<e.lookupInners.length;++r){var i=$root.ics23.InnerOp.verify(e.lookupInners[r]);if(i)return"lookupInners."+i}}return null},t.fromObject=function(e){if(e instanceof $root.ics23.CompressedBatchProof)return e;var r=new $root.ics23.CompressedBatchProof;if(e.entries){if(!Array.isArray(e.entries))throw TypeError(".ics23.CompressedBatchProof.entries: array expected");r.entries=[];for(var i=0;i<e.entries.length;++i){if(typeof e.entries[i]!="object")throw TypeError(".ics23.CompressedBatchProof.entries: object expected");r.entries[i]=$root.ics23.CompressedBatchEntry.fromObject(e.entries[i])}}if(e.lookupInners){if(!Array.isArray(e.lookupInners))throw TypeError(".ics23.CompressedBatchProof.lookupInners: array expected");r.lookupInners=[];for(var i=0;i<e.lookupInners.length;++i){if(typeof e.lookupInners[i]!="object")throw TypeError(".ics23.CompressedBatchProof.lookupInners: object expected");r.lookupInners[i]=$root.ics23.InnerOp.fromObject(e.lookupInners[i])}}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.entries=[],i.lookupInners=[]),e.entries&&e.entries.length){i.entries=[];for(var o=0;o<e.entries.length;++o)i.entries[o]=$root.ics23.CompressedBatchEntry.toObject(e.entries[o],r)}if(e.lookupInners&&e.lookupInners.length){i.lookupInners=[];for(var o=0;o<e.lookupInners.length;++o)i.lookupInners[o]=$root.ics23.InnerOp.toObject(e.lookupInners[o],r)}return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.CompressedBatchEntry=function(){function t(r){if(r)for(var i=Object.keys(r),o=0;o<i.length;++o)r[i[o]]!=null&&(this[i[o]]=r[i[o]])}t.prototype.exist=null,t.prototype.nonexist=null;var e;return Object.defineProperty(t.prototype,"proof",{get:$util.oneOfGetter(e=["exist","nonexist"]),set:$util.oneOfSetter(e)}),t.create=function(r){return new t(r)},t.encode=function(r,i){return i||(i=$Writer.create()),r.exist!=null&&r.hasOwnProperty("exist")&&$root.ics23.CompressedExistenceProof.encode(r.exist,i.uint32(10).fork()).ldelim(),r.nonexist!=null&&r.hasOwnProperty("nonexist")&&$root.ics23.CompressedNonExistenceProof.encode(r.nonexist,i.uint32(18).fork()).ldelim(),i},t.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},t.decode=function(r,i){r instanceof $Reader||(r=$Reader.create(r));for(var o=i===void 0?r.len:r.pos+i,s=new $root.ics23.CompressedBatchEntry;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.exist=$root.ics23.CompressedExistenceProof.decode(r,r.uint32());break;case 2:s.nonexist=$root.ics23.CompressedNonExistenceProof.decode(r,r.uint32());break;default:r.skipType(a&7);break}}return s},t.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var i={};if(r.exist!=null&&r.hasOwnProperty("exist")){i.proof=1;{var o=$root.ics23.CompressedExistenceProof.verify(r.exist);if(o)return"exist."+o}}if(r.nonexist!=null&&r.hasOwnProperty("nonexist")){if(i.proof===1)return"proof: multiple values";i.proof=1;{var o=$root.ics23.CompressedNonExistenceProof.verify(r.nonexist);if(o)return"nonexist."+o}}return null},t.fromObject=function(r){if(r instanceof $root.ics23.CompressedBatchEntry)return r;var i=new $root.ics23.CompressedBatchEntry;if(r.exist!=null){if(typeof r.exist!="object")throw TypeError(".ics23.CompressedBatchEntry.exist: object expected");i.exist=$root.ics23.CompressedExistenceProof.fromObject(r.exist)}if(r.nonexist!=null){if(typeof r.nonexist!="object")throw TypeError(".ics23.CompressedBatchEntry.nonexist: object expected");i.nonexist=$root.ics23.CompressedNonExistenceProof.fromObject(r.nonexist)}return i},t.toObject=function(r,i){i||(i={});var o={};return r.exist!=null&&r.hasOwnProperty("exist")&&(o.exist=$root.ics23.CompressedExistenceProof.toObject(r.exist,i),i.oneofs&&(o.proof="exist")),r.nonexist!=null&&r.hasOwnProperty("nonexist")&&(o.nonexist=$root.ics23.CompressedNonExistenceProof.toObject(r.nonexist,i),i.oneofs&&(o.proof="nonexist")),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.CompressedExistenceProof=function(){function t(e){if(this.path=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.key=$util.newBuffer([]),t.prototype.value=$util.newBuffer([]),t.prototype.leaf=null,t.prototype.path=$util.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=$Writer.create()),e.key!=null&&e.hasOwnProperty("key")&&r.uint32(10).bytes(e.key),e.value!=null&&e.hasOwnProperty("value")&&r.uint32(18).bytes(e.value),e.leaf!=null&&e.hasOwnProperty("leaf")&&$root.ics23.LeafOp.encode(e.leaf,r.uint32(26).fork()).ldelim(),e.path!=null&&e.path.length){r.uint32(34).fork();for(var i=0;i<e.path.length;++i)r.int32(e.path[i]);r.ldelim()}return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.CompressedExistenceProof;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.key=e.bytes();break;case 2:o.value=e.bytes();break;case 3:o.leaf=$root.ics23.LeafOp.decode(e,e.uint32());break;case 4:if(o.path&&o.path.length||(o.path=[]),(s&7)===2)for(var a=e.uint32()+e.pos;e.pos<a;)o.path.push(e.int32());else o.path.push(e.int32());break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.key!=null&&e.hasOwnProperty("key")&&!(e.key&&typeof e.key.length=="number"||$util.isString(e.key)))return"key: buffer expected";if(e.value!=null&&e.hasOwnProperty("value")&&!(e.value&&typeof e.value.length=="number"||$util.isString(e.value)))return"value: buffer expected";if(e.leaf!=null&&e.hasOwnProperty("leaf")){var r=$root.ics23.LeafOp.verify(e.leaf);if(r)return"leaf."+r}if(e.path!=null&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var i=0;i<e.path.length;++i)if(!$util.isInteger(e.path[i]))return"path: integer[] expected"}return null},t.fromObject=function(e){if(e instanceof $root.ics23.CompressedExistenceProof)return e;var r=new $root.ics23.CompressedExistenceProof;if(e.key!=null&&(typeof e.key=="string"?$util.base64.decode(e.key,r.key=$util.newBuffer($util.base64.length(e.key)),0):e.key.length&&(r.key=e.key)),e.value!=null&&(typeof e.value=="string"?$util.base64.decode(e.value,r.value=$util.newBuffer($util.base64.length(e.value)),0):e.value.length&&(r.value=e.value)),e.leaf!=null){if(typeof e.leaf!="object")throw TypeError(".ics23.CompressedExistenceProof.leaf: object expected");r.leaf=$root.ics23.LeafOp.fromObject(e.leaf)}if(e.path){if(!Array.isArray(e.path))throw TypeError(".ics23.CompressedExistenceProof.path: array expected");r.path=[];for(var i=0;i<e.path.length;++i)r.path[i]=e.path[i]|0}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.path=[]),r.defaults&&(r.bytes===String?i.key="":(i.key=[],r.bytes!==Array&&(i.key=$util.newBuffer(i.key))),r.bytes===String?i.value="":(i.value=[],r.bytes!==Array&&(i.value=$util.newBuffer(i.value))),i.leaf=null),e.key!=null&&e.hasOwnProperty("key")&&(i.key=r.bytes===String?$util.base64.encode(e.key,0,e.key.length):r.bytes===Array?Array.prototype.slice.call(e.key):e.key),e.value!=null&&e.hasOwnProperty("value")&&(i.value=r.bytes===String?$util.base64.encode(e.value,0,e.value.length):r.bytes===Array?Array.prototype.slice.call(e.value):e.value),e.leaf!=null&&e.hasOwnProperty("leaf")&&(i.leaf=$root.ics23.LeafOp.toObject(e.leaf,r)),e.path&&e.path.length){i.path=[];for(var o=0;o<e.path.length;++o)i.path[o]=e.path[o]}return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n.CompressedNonExistenceProof=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.key=$util.newBuffer([]),t.prototype.left=null,t.prototype.right=null,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=$Writer.create()),e.key!=null&&e.hasOwnProperty("key")&&r.uint32(10).bytes(e.key),e.left!=null&&e.hasOwnProperty("left")&&$root.ics23.CompressedExistenceProof.encode(e.left,r.uint32(18).fork()).ldelim(),e.right!=null&&e.hasOwnProperty("right")&&$root.ics23.CompressedExistenceProof.encode(e.right,r.uint32(26).fork()).ldelim(),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));for(var i=r===void 0?e.len:e.pos+r,o=new $root.ics23.CompressedNonExistenceProof;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.key=e.bytes();break;case 2:o.left=$root.ics23.CompressedExistenceProof.decode(e,e.uint32());break;case 3:o.right=$root.ics23.CompressedExistenceProof.decode(e,e.uint32());break;default:e.skipType(s&7);break}}return o},t.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.key!=null&&e.hasOwnProperty("key")&&!(e.key&&typeof e.key.length=="number"||$util.isString(e.key)))return"key: buffer expected";if(e.left!=null&&e.hasOwnProperty("left")){var r=$root.ics23.CompressedExistenceProof.verify(e.left);if(r)return"left."+r}if(e.right!=null&&e.hasOwnProperty("right")){var r=$root.ics23.CompressedExistenceProof.verify(e.right);if(r)return"right."+r}return null},t.fromObject=function(e){if(e instanceof $root.ics23.CompressedNonExistenceProof)return e;var r=new $root.ics23.CompressedNonExistenceProof;if(e.key!=null&&(typeof e.key=="string"?$util.base64.decode(e.key,r.key=$util.newBuffer($util.base64.length(e.key)),0):e.key.length&&(r.key=e.key)),e.left!=null){if(typeof e.left!="object")throw TypeError(".ics23.CompressedNonExistenceProof.left: object expected");r.left=$root.ics23.CompressedExistenceProof.fromObject(e.left)}if(e.right!=null){if(typeof e.right!="object")throw TypeError(".ics23.CompressedNonExistenceProof.right: object expected");r.right=$root.ics23.CompressedExistenceProof.fromObject(e.right)}return r},t.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(r.bytes===String?i.key="":(i.key=[],r.bytes!==Array&&(i.key=$util.newBuffer(i.key))),i.left=null,i.right=null),e.key!=null&&e.hasOwnProperty("key")&&(i.key=r.bytes===String?$util.base64.encode(e.key,0,e.key.length):r.bytes===Array?Array.prototype.slice.call(e.key):e.key),e.left!=null&&e.hasOwnProperty("left")&&(i.left=$root.ics23.CompressedExistenceProof.toObject(e.left,r)),e.right!=null&&e.hasOwnProperty("right")&&(i.right=$root.ics23.CompressedExistenceProof.toObject(e.right,r)),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t}(),n}();var codecimpl=$root,ics23={},compress$1={};Object.defineProperty(compress$1,"__esModule",{value:!0});compress$1.decompress=compress$1.compress=void 0;const codecimpl_1$2=codecimpl;function compress(n){return n.batch?{compressed:compressBatch(n.batch)}:n}compress$1.compress=compress;function decompress(n){return n.compressed?{batch:decompressBatch(n.compressed)}:n}compress$1.decompress=decompress;function compressBatch(n){const t=[],e=[],r=new Map;for(const i of n.entries)if(i.exist){const o={exist:compressExist(i.exist,e,r)};t.push(o)}else if(i.nonexist){const o=i.nonexist,s={nonexist:{key:o.key,left:compressExist(o.left,e,r),right:compressExist(o.right,e,r)}};t.push(s)}else throw new Error("Unexpected batch entry during compress");return{entries:t,lookupInners:e}}function compressExist(n,t,e){if(!n)return;const r=n.path.map(i=>{const o=codecimpl_1$2.ics23.InnerOp.encode(i).finish();let s=e.get(o);return s===void 0&&(s=t.length,t.push(i),e.set(o,s)),s});return{key:n.key,value:n.value,leaf:n.leaf,path:r}}function decompressBatch(n){const t=n.lookupInners;return{entries:n.entries.map(e=>{if(e.exist)return{exist:decompressExist(e.exist,t)};if(e.nonexist){const r=e.nonexist;return{nonexist:{key:r.key,left:decompressExist(r.left,t),right:decompressExist(r.right,t)}}}else throw new Error("Unexpected batch entry during compress")})}}function decompressExist(n,t){if(!n)return;const{key:e,value:r,leaf:i,path:o}=n,s=(o||[]).map(a=>t[a]);return{key:e,value:r,leaf:i,path:s}}var proofs={},ops={};Object.defineProperty(ops,"__esModule",{value:!0});ops.doHash=ops.applyInner=ops.applyLeaf=void 0;const ripemd160_1=require$$0,sha256_1=he,sha512_1=require$$1,codecimpl_1$1=codecimpl;function applyLeaf(n,t,e){if(t.length===0)throw new Error("Missing key");if(e.length===0)throw new Error("Missing value");const r=prepareLeafData(ensureHash(n.prehashKey),ensureLength(n.length),t),i=prepareLeafData(ensureHash(n.prehashValue),ensureLength(n.length),e),o=new Uint8Array([...ensureBytes(n.prefix),...r,...i]);return doHash(ensureHash(n.hash),o)}ops.applyLeaf=applyLeaf;function applyInner(n,t){if(t.length===0)throw new Error("Inner op needs child value");const e=new Uint8Array([...ensureBytes(n.prefix),...t,...ensureBytes(n.suffix)]);return doHash(ensureHash(n.hash),e)}ops.applyInner=applyInner;function ensure(n,t){return n??t}const ensureHash=n=>ensure(n,codecimpl_1$1.ics23.HashOp.NO_HASH),ensureLength=n=>ensure(n,codecimpl_1$1.ics23.LengthOp.NO_PREFIX),ensureBytes=n=>ensure(n,new Uint8Array([]));function prepareLeafData(n,t,e){const r=doHashOrNoop(n,e);return doLengthOp(t,r)}function doHashOrNoop(n,t){return n===codecimpl_1$1.ics23.HashOp.NO_HASH?t:doHash(n,t)}function doHash(n,t){switch(n){case codecimpl_1$1.ics23.HashOp.SHA256:return(0,sha256_1.sha256)(t);case codecimpl_1$1.ics23.HashOp.SHA512:return(0,sha512_1.sha512)(t);case codecimpl_1$1.ics23.HashOp.RIPEMD160:return(0,ripemd160_1.ripemd160)(t);case codecimpl_1$1.ics23.HashOp.BITCOIN:return(0,ripemd160_1.ripemd160)((0,sha256_1.sha256)(t));case codecimpl_1$1.ics23.HashOp.SHA512_256:return(0,sha512_1.sha512_256)(t)}throw new Error(`Unsupported hashop: ${n}`)}ops.doHash=doHash;function doLengthOp(n,t){switch(n){case codecimpl_1$1.ics23.LengthOp.NO_PREFIX:return t;case codecimpl_1$1.ics23.LengthOp.VAR_PROTO:return new Uint8Array([...encodeVarintProto(t.length),...t]);case codecimpl_1$1.ics23.LengthOp.REQUIRE_32_BYTES:if(t.length!==32)throw new Error(`Length is ${t.length}, not 32 bytes`);return t;case codecimpl_1$1.ics23.LengthOp.REQUIRE_64_BYTES:if(t.length!==64)throw new Error(`Length is ${t.length}, not 64 bytes`);return t;case codecimpl_1$1.ics23.LengthOp.FIXED32_LITTLE:return new Uint8Array([...encodeFixed32Le(t.length),...t])}throw new Error(`Unsupported lengthop: ${n}`)}function encodeVarintProto(n){let t=[],e=n;for(;e>=128;){const r=e%128+128;t=[...t,r],e=e/128}return t=[...t,e],new Uint8Array(t)}function encodeFixed32Le(n){const t=new Uint8Array(4);let e=n;for(let r=t.length;r>0;r--)t[Math.abs(r-t.length)]=e%256,e=Math.floor(e/256);return t}var specs={};Object.defineProperty(specs,"__esModule",{value:!0});specs.bytesBefore=specs.ensureBytesBefore=specs.bytesEqual=specs.ensureBytesEqual=specs.ensureInner=specs.ensureLeaf=void 0;function ensureLeaf(n,t){if(n.hash!==t.hash)throw new Error(`Unexpected hashOp: ${n.hash}`);if(n.prehashKey!==t.prehashKey)throw new Error(`Unexpected prehashKey: ${n.prehashKey}`);if(n.prehashValue!==t.prehashValue)throw new Error(`Unexpected prehashValue: ${n.prehashValue}`);if(n.length!==t.length)throw new Error(`Unexpected length op: ${n.length}`);ensurePrefix(n.prefix,t.prefix)}specs.ensureLeaf=ensureLeaf;function ensureInner(n,t,e){if(n.hash!==e.hash)throw new Error(`Unexpected hashOp: ${n.hash}`);if(!n.prefix)throw new Error("No prefix set for inner node");if(hasPrefix(n.prefix,t))throw new Error("Inner node has leaf prefix");if(n.prefix.length<(e.minPrefixLength||0))throw new Error(`Prefix too short: ${n.prefix.length} bytes`);const r=(e.childOrder.length-1)*e.childSize;if(n.prefix.length>(e.maxPrefixLength||0)+r)throw new Error(`Prefix too long: ${n.prefix.length} bytes`)}specs.ensureInner=ensureInner;function ensurePrefix(n,t){if(!(!t||t.length===0)){if(!n)throw new Error("Target bytes missing");ensureBytesEqual(t,n.slice(0,t.length))}}function ensureBytesEqual(n,t){if(n.length!==t.length)throw new Error(`Different lengths ${n.length} vs ${t.length}`);for(let e=0;e<n.length;e++)if(n[e]!==t[e])throw new Error(`Arrays differ at index ${e}: ${n[e]} vs ${t[e]}`)}specs.ensureBytesEqual=ensureBytesEqual;function bytesEqual(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}specs.bytesEqual=bytesEqual;function hasPrefix(n,t){if(!t||t.length===0||!n||n.length<=t.length)return!1;for(let e=0;e<t.length;e++)if(n[e]!==t[e])return!1;throw!0}function ensureBytesBefore(n,t){if(!bytesBefore(n,t))throw new Error("first is after last")}specs.ensureBytesBefore=ensureBytesBefore;function bytesBefore(n,t){const e=n.length<t.length?n.length:t.length;for(let r=0;r<e;r++){if(n[r]<t[r])return!0;if(n[r]>t[r])return!1}return n.length<t.length}specs.bytesBefore=bytesBefore;Object.defineProperty(proofs,"__esModule",{value:!0});proofs.ensureLeftNeighbor=proofs.ensureSpec=proofs.calculateExistenceRoot=proofs.verifyNonExistence=proofs.verifyExistence=proofs.smtSpec=proofs.tendermintSpec=proofs.iavlSpec=void 0;const codecimpl_1=codecimpl,ops_1=ops,specs_1$1=specs;proofs.iavlSpec={leafSpec:{prefix:Uint8Array.from([0]),hash:codecimpl_1.ics23.HashOp.SHA256,prehashValue:codecimpl_1.ics23.HashOp.SHA256,prehashKey:codecimpl_1.ics23.HashOp.NO_HASH,length:codecimpl_1.ics23.LengthOp.VAR_PROTO},innerSpec:{childOrder:[0,1],minPrefixLength:4,maxPrefixLength:12,childSize:33,hash:codecimpl_1.ics23.HashOp.SHA256}};proofs.tendermintSpec={leafSpec:{prefix:Uint8Array.from([0]),hash:codecimpl_1.ics23.HashOp.SHA256,prehashValue:codecimpl_1.ics23.HashOp.SHA256,prehashKey:codecimpl_1.ics23.HashOp.NO_HASH,length:codecimpl_1.ics23.LengthOp.VAR_PROTO},innerSpec:{childOrder:[0,1],minPrefixLength:1,maxPrefixLength:1,childSize:32,hash:codecimpl_1.ics23.HashOp.SHA256}};proofs.smtSpec={leafSpec:{hash:codecimpl_1.ics23.HashOp.SHA256,prehashKey:codecimpl_1.ics23.HashOp.NO_HASH,prehashValue:codecimpl_1.ics23.HashOp.SHA256,length:codecimpl_1.ics23.LengthOp.NO_PREFIX,prefix:Uint8Array.from([0])},innerSpec:{childOrder:[0,1],childSize:32,minPrefixLength:1,maxPrefixLength:1,emptyChild:new Uint8Array(32),hash:codecimpl_1.ics23.HashOp.SHA256},maxDepth:256};function verifyExistence(n,t,e,r,i){ensureSpec(n,t);const o=calculateExistenceRoot(n);(0,specs_1$1.ensureBytesEqual)(o,e),(0,specs_1$1.ensureBytesEqual)(r,n.key),(0,specs_1$1.ensureBytesEqual)(i,n.value)}proofs.verifyExistence=verifyExistence;function verifyNonExistence(n,t,e,r){let i,o;if(n.left&&(verifyExistence(n.left,t,e,n.left.key,n.left.value),i=n.left.key),n.right&&(verifyExistence(n.right,t,e,n.right.key,n.right.value),o=n.right.key),!i&&!o)throw new Error("neither left nor right proof defined");if(i&&(0,specs_1$1.ensureBytesBefore)(i,r),o&&(0,specs_1$1.ensureBytesBefore)(r,o),!t.innerSpec)throw new Error("no inner spec");i?o?ensureLeftNeighbor(t.innerSpec,n.left.path,n.right.path):ensureRightMost(t.innerSpec,n.left.path):ensureLeftMost(t.innerSpec,n.right.path)}proofs.verifyNonExistence=verifyNonExistence;function calculateExistenceRoot(n){if(!n.key||!n.value)throw new Error("Existence proof needs key and value set");if(!n.leaf)throw new Error("Existence proof must start with a leaf operation");const t=n.path||[];let e=(0,ops_1.applyLeaf)(n.leaf,n.key,n.value);for(const r of t)e=(0,ops_1.applyInner)(r,e);return e}proofs.calculateExistenceRoot=calculateExistenceRoot;function ensureSpec(n,t){if(!n.leaf)throw new Error("Existence proof must start with a leaf operation");if(!t.leafSpec)throw new Error("Spec must include leafSpec");if(!t.innerSpec)throw new Error("Spec must include innerSpec");(0,specs_1$1.ensureLeaf)(n.leaf,t.leafSpec);const e=n.path||[];if(t.minDepth&&e.length<t.minDepth)throw new Error(`Too few inner nodes ${e.length}`);if(t.maxDepth&&e.length>t.maxDepth)throw new Error(`Too many inner nodes ${e.length}`);for(const r of e)(0,specs_1$1.ensureInner)(r,t.leafSpec.prefix,t.innerSpec)}proofs.ensureSpec=ensureSpec;function ensureLeftMost(n,t){const{minPrefix:e,maxPrefix:r,suffix:i}=getPadding(n,0);for(const o of t)if(!hasPadding(o,e,r,i))throw new Error("Step not leftmost")}function ensureRightMost(n,t){const e=n.childOrder.length-1,{minPrefix:r,maxPrefix:i,suffix:o}=getPadding(n,e);for(const s of t)if(!hasPadding(s,r,i,o))throw new Error("Step not leftmost")}function ensureLeftNeighbor(n,t,e){const r=[...t],i=[...e];let o=r.pop(),s=i.pop();for(;(0,specs_1$1.bytesEqual)(o.prefix,s.prefix)&&(0,specs_1$1.bytesEqual)(o.suffix,s.suffix);)o=r.pop(),s=i.pop();if(!isLeftStep(n,o,s))throw new Error("Not left neightbor at first divergent step");ensureRightMost(n,r),ensureLeftMost(n,i)}proofs.ensureLeftNeighbor=ensureLeftNeighbor;function isLeftStep(n,t,e){const r=orderFromPadding(n,t);return orderFromPadding(n,e)===r+1}function orderFromPadding(n,t){for(let e=0;e<n.childOrder.length;e++){const{minPrefix:r,maxPrefix:i,suffix:o}=getPadding(n,e);if(hasPadding(t,r,i,o))return e}throw new Error("Cannot find any valid spacing for this node")}function hasPadding(n,t,e,r){return(n.prefix||[]).length<t||(n.prefix||[]).length>e?!1:(n.suffix||[]).length===r}function getPadding(n,t){const e=getPosition(n.childOrder,t),r=e*n.childSize,i=r+n.minPrefixLength,o=r+n.maxPrefixLength,s=(n.childOrder.length-1-e)*n.childSize;return{minPrefix:i,maxPrefix:o,suffix:s}}function getPosition(n,t){if(t<0||t>=n.length)throw new Error(`Invalid branch: ${t}`);return n.findIndex(e=>e===t)}Object.defineProperty(ics23,"__esModule",{value:!0});ics23.batchVerifyNonMembership=ics23.batchVerifyMembership=ics23.verifyNonMembership=ics23.verifyMembership=void 0;const compress_1=compress$1,proofs_1=proofs,specs_1=specs;function verifyMembership(n,t,e,r,i){const o=(0,compress_1.decompress)(n),s=getExistForKey(o,r);if(!s)return!1;try{return(0,proofs_1.verifyExistence)(s,t,e,r,i),!0}catch{return!1}}ics23.verifyMembership=verifyMembership;function verifyNonMembership(n,t,e,r){const i=(0,compress_1.decompress)(n),o=getNonExistForKey(i,r);if(!o)return!1;try{return(0,proofs_1.verifyNonExistence)(o,t,e,r),!0}catch{return!1}}ics23.verifyNonMembership=verifyNonMembership;function batchVerifyMembership(n,t,e,r){const i=(0,compress_1.decompress)(n);for(const[o,s]of r.entries())if(!verifyMembership(i,t,e,o,s))return!1;return!0}ics23.batchVerifyMembership=batchVerifyMembership;function batchVerifyNonMembership(n,t,e,r){const i=(0,compress_1.decompress)(n);for(const o of r)if(!verifyNonMembership(i,t,e,o))return!1;return!0}ics23.batchVerifyNonMembership=batchVerifyNonMembership;function getExistForKey(n,t){const e=r=>!!r&&(0,specs_1.bytesEqual)(t,r.key);if(e(n.exist))return n.exist;if(n.batch)return n.batch.entries.map(r=>r.exist||null).find(e)}function getNonExistForKey(n,t){const e=r=>!!r&&(!r.left||(0,specs_1.bytesBefore)(r.left.key,t))&&(!r.right||(0,specs_1.bytesBefore)(t,r.right.key));if(e(n.nonexist))return n.nonexist;if(n.batch)return n.batch.entries.map(r=>r.nonexist||null).find(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.verifyNonExistence=n.verifyExistence=n.tendermintSpec=n.iavlSpec=n.calculateExistenceRoot=n.verifyNonMembership=n.verifyMembership=n.ics23=void 0;var t=codecimpl;Object.defineProperty(n,"ics23",{enumerable:!0,get:function(){return t.ics23}});var e=ics23;Object.defineProperty(n,"verifyMembership",{enumerable:!0,get:function(){return e.verifyMembership}}),Object.defineProperty(n,"verifyNonMembership",{enumerable:!0,get:function(){return e.verifyNonMembership}});var r=proofs;Object.defineProperty(n,"calculateExistenceRoot",{enumerable:!0,get:function(){return r.calculateExistenceRoot}}),Object.defineProperty(n,"iavlSpec",{enumerable:!0,get:function(){return r.iavlSpec}}),Object.defineProperty(n,"tendermintSpec",{enumerable:!0,get:function(){return r.tendermintSpec}}),Object.defineProperty(n,"verifyExistence",{enumerable:!0,get:function(){return r.verifyExistence}}),Object.defineProperty(n,"verifyNonExistence",{enumerable:!0,get:function(){return r.verifyNonExistence}})})(build);var xstream={},ponyfill$1={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=t;function t(e){var r,i=e.Symbol;if(typeof i=="function")if(i.observable)r=i.observable;else{r=i.for("https://github.com/benlesh/symbol-observable");try{i.observable=r}catch{}}else r="@@observable";return r}})(ponyfill$1);var ponyfill=ponyfill$1,implementation_browser={exports:{}};typeof self<"u"?implementation_browser.exports=self:typeof window<"u"?implementation_browser.exports=window:implementation_browser.exports=Function("return this")();var implementation_browserExports=implementation_browser.exports,implementation$1=implementation_browserExports,polyfill$1=function n(){return typeof commonjsGlobal$1!="object"||!commonjsGlobal$1||commonjsGlobal$1.Math!==Math||commonjsGlobal$1.Array!==Array?implementation$1:commonjsGlobal$1},define=be,gOPD=ie,getPolyfill$1=polyfill$1,shim$1=function n(){var t=getPolyfill$1();if(define.supportsDescriptors){var e=gOPD(t,"globalThis");(!e||e.configurable&&(e.enumerable||!e.writable||globalThis!==t))&&Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else(typeof globalThis!="object"||globalThis!==t)&&(t.globalThis=t);return t},defineProperties=be,implementation=implementation_browserExports,getPolyfill=polyfill$1,shim=shim$1,polyfill=getPolyfill(),getGlobal=function(){return polyfill};defineProperties(getGlobal,{getPolyfill,implementation,shim});var globalthis=getGlobal,__extends=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(xstream,"__esModule",{value:!0});xstream.NO_IL=xstream.NO=xstream.MemoryStream=xstream.Stream=void 0;var ponyfill_1=ponyfill,globalthis_1=globalthis,$$observable=ponyfill_1.default(globalthis_1.getPolyfill()),NO={};xstream.NO=NO;function noop(){}function cp(n){for(var t=n.length,e=Array(t),r=0;r<t;++r)e[r]=n[r];return e}function and(n,t){return function(e){return n(e)&&t(e)}}function _try(n,t,e){try{return n.f(t)}catch(r){return e._e(r),NO}}var NO_IL={_n:noop,_e:noop,_c:noop};xstream.NO_IL=NO_IL;function internalizeProducer(n){n._start=function(t){t.next=t._n,t.error=t._e,t.complete=t._c,this.start(t)},n._stop=n.stop}var StreamSub=function(){function n(t,e){this._stream=t,this._listener=e}return n.prototype.unsubscribe=function(){this._stream._remove(this._listener)},n}(),Observer=function(){function n(t){this._listener=t}return n.prototype.next=function(t){this._listener._n(t)},n.prototype.error=function(t){this._listener._e(t)},n.prototype.complete=function(){this._listener._c()},n}(),FromObservable=function(){function n(t){this.type="fromObservable",this.ins=t,this.active=!1}return n.prototype._start=function(t){this.out=t,this.active=!0,this._sub=this.ins.subscribe(new Observer(t)),this.active||this._sub.unsubscribe()},n.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},n}(),Merge=function(){function n(t){this.type="merge",this.insArr=t,this.out=NO,this.ac=0}return n.prototype._start=function(t){this.out=t;var e=this.insArr,r=e.length;this.ac=r;for(var i=0;i<r;i++)e[i]._add(this)},n.prototype._stop=function(){for(var t=this.insArr,e=t.length,r=0;r<e;r++)t[r]._remove(this);this.out=NO},n.prototype._n=function(t){var e=this.out;e!==NO&&e._n(t)},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){if(--this.ac<=0){var t=this.out;if(t===NO)return;t._c()}},n}(),CombineListener=function(){function n(t,e,r){this.i=t,this.out=e,this.p=r,r.ils.push(this)}return n.prototype._n=function(t){var e=this.p,r=this.out;if(r!==NO&&e.up(t,this.i)){var i=cp(e.vals);r._n(i)}},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){var t=this.p;t.out!==NO&&--t.Nc===0&&t.out._c()},n}(),Combine=function(){function n(t){this.type="combine",this.insArr=t,this.out=NO,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return n.prototype.up=function(t,e){var r=this.vals[e],i=this.Nn?r===NO?--this.Nn:this.Nn:0;return this.vals[e]=t,i===0},n.prototype._start=function(t){this.out=t;var e=this.insArr,r=this.Nc=this.Nn=e.length,i=this.vals=new Array(r);if(r===0)t._n([]),t._c();else for(var o=0;o<r;o++)i[o]=NO,e[o]._add(new CombineListener(o,t,this))},n.prototype._stop=function(){for(var t=this.insArr,e=t.length,r=this.ils,i=0;i<e;i++)t[i]._remove(r[i]);this.out=NO,this.ils=[],this.vals=[]},n}(),FromArray=function(){function n(t){this.type="fromArray",this.a=t}return n.prototype._start=function(t){for(var e=this.a,r=0,i=e.length;r<i;r++)t._n(e[r]);t._c()},n.prototype._stop=function(){},n}(),FromPromise=function(){function n(t){this.type="fromPromise",this.on=!1,this.p=t}return n.prototype._start=function(t){var e=this;this.on=!0,this.p.then(function(r){e.on&&(t._n(r),t._c())},function(r){t._e(r)}).then(noop,function(r){setTimeout(function(){throw r})})},n.prototype._stop=function(){this.on=!1},n}(),Periodic=function(){function n(t){this.type="periodic",this.period=t,this.intervalID=-1,this.i=0}return n.prototype._start=function(t){var e=this;function r(){t._n(e.i++)}this.intervalID=setInterval(r,this.period)},n.prototype._stop=function(){this.intervalID!==-1&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},n}(),Debug=function(){function n(t,e){this.type="debug",this.ins=t,this.out=NO,this.s=noop,this.l="",typeof e=="string"?this.l=e:typeof e=="function"&&(this.s=e)}return n.prototype._start=function(t){this.out=t,this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.out=NO},n.prototype._n=function(t){var e=this.out;if(e!==NO){var r=this.s,i=this.l;if(r!==noop)try{r(t)}catch(o){e._e(o)}else i?console.log(i+":",t):console.log(t);e._n(t)}},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){var t=this.out;t!==NO&&t._c()},n}(),Drop=function(){function n(t,e){this.type="drop",this.ins=e,this.out=NO,this.max=t,this.dropped=0}return n.prototype._start=function(t){this.out=t,this.dropped=0,this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.out=NO},n.prototype._n=function(t){var e=this.out;e!==NO&&this.dropped++>=this.max&&e._n(t)},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){var t=this.out;t!==NO&&t._c()},n}(),EndWhenListener=function(){function n(t,e){this.out=t,this.op=e}return n.prototype._n=function(){this.op.end()},n.prototype._e=function(t){this.out._e(t)},n.prototype._c=function(){this.op.end()},n}(),EndWhen=function(){function n(t,e){this.type="endWhen",this.ins=e,this.out=NO,this.o=t,this.oil=NO_IL}return n.prototype._start=function(t){this.out=t,this.o._add(this.oil=new EndWhenListener(t,this)),this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=NO,this.oil=NO_IL},n.prototype.end=function(){var t=this.out;t!==NO&&t._c()},n.prototype._n=function(t){var e=this.out;e!==NO&&e._n(t)},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){this.end()},n}(),Filter=function(){function n(t,e){this.type="filter",this.ins=e,this.out=NO,this.f=t}return n.prototype._start=function(t){this.out=t,this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.out=NO},n.prototype._n=function(t){var e=this.out;if(e!==NO){var r=_try(this,t,e);r===NO||!r||e._n(t)}},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){var t=this.out;t!==NO&&t._c()},n}(),FlattenListener=function(){function n(t,e){this.out=t,this.op=e}return n.prototype._n=function(t){this.out._n(t)},n.prototype._e=function(t){this.out._e(t)},n.prototype._c=function(){this.op.inner=NO,this.op.less()},n}(),Flatten=function(){function n(t){this.type="flatten",this.ins=t,this.out=NO,this.open=!0,this.inner=NO,this.il=NO_IL}return n.prototype._start=function(t){this.out=t,this.open=!0,this.inner=NO,this.il=NO_IL,this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.inner!==NO&&this.inner._remove(this.il),this.out=NO,this.open=!0,this.inner=NO,this.il=NO_IL},n.prototype.less=function(){var t=this.out;t!==NO&&!this.open&&this.inner===NO&&t._c()},n.prototype._n=function(t){var e=this.out;if(e!==NO){var r=this,i=r.inner,o=r.il;i!==NO&&o!==NO_IL&&i._remove(o),(this.inner=t)._add(this.il=new FlattenListener(e,this))}},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){this.open=!1,this.less()},n}(),Fold=function(){function n(t,e,r){var i=this;this.type="fold",this.ins=r,this.out=NO,this.f=function(o){return t(i.acc,o)},this.acc=this.seed=e}return n.prototype._start=function(t){this.out=t,this.acc=this.seed,t._n(this.acc),this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.out=NO,this.acc=this.seed},n.prototype._n=function(t){var e=this.out;if(e!==NO){var r=_try(this,t,e);r!==NO&&e._n(this.acc=r)}},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){var t=this.out;t!==NO&&t._c()},n}(),Last=function(){function n(t){this.type="last",this.ins=t,this.out=NO,this.has=!1,this.val=NO}return n.prototype._start=function(t){this.out=t,this.has=!1,this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.out=NO,this.val=NO},n.prototype._n=function(t){this.has=!0,this.val=t},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){var t=this.out;t!==NO&&(this.has?(t._n(this.val),t._c()):t._e(new Error("last() failed because input stream completed")))},n}(),MapOp=function(){function n(t,e){this.type="map",this.ins=e,this.out=NO,this.f=t}return n.prototype._start=function(t){this.out=t,this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.out=NO},n.prototype._n=function(t){var e=this.out;if(e!==NO){var r=_try(this,t,e);r!==NO&&e._n(r)}},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){var t=this.out;t!==NO&&t._c()},n}(),Remember=function(){function n(t){this.type="remember",this.ins=t,this.out=NO}return n.prototype._start=function(t){this.out=t,this.ins._add(t)},n.prototype._stop=function(){this.ins._remove(this.out),this.out=NO},n}(),ReplaceError=function(){function n(t,e){this.type="replaceError",this.ins=e,this.out=NO,this.f=t}return n.prototype._start=function(t){this.out=t,this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.out=NO},n.prototype._n=function(t){var e=this.out;e!==NO&&e._n(t)},n.prototype._e=function(t){var e=this.out;if(e!==NO)try{this.ins._remove(this),(this.ins=this.f(t))._add(this)}catch(r){e._e(r)}},n.prototype._c=function(){var t=this.out;t!==NO&&t._c()},n}(),StartWith=function(){function n(t,e){this.type="startWith",this.ins=t,this.out=NO,this.val=e}return n.prototype._start=function(t){this.out=t,this.out._n(this.val),this.ins._add(t)},n.prototype._stop=function(){this.ins._remove(this.out),this.out=NO},n}(),Take=function(){function n(t,e){this.type="take",this.ins=e,this.out=NO,this.max=t,this.taken=0}return n.prototype._start=function(t){this.out=t,this.taken=0,this.max<=0?t._c():this.ins._add(this)},n.prototype._stop=function(){this.ins._remove(this),this.out=NO},n.prototype._n=function(t){var e=this.out;if(e!==NO){var r=++this.taken;r<this.max?e._n(t):r===this.max&&(e._n(t),e._c())}},n.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},n.prototype._c=function(){var t=this.out;t!==NO&&t._c()},n}(),Stream=function(){function n(t){this._prod=t||NO,this._ils=[],this._stopID=NO,this._dl=NO,this._d=!1,this._target=null,this._err=NO}return n.prototype._n=function(t){var e=this._ils,r=e.length;if(this._d&&this._dl._n(t),r==1)e[0]._n(t);else{if(r==0)return;for(var i=cp(e),o=0;o<r;o++)i[o]._n(t)}},n.prototype._e=function(t){if(this._err===NO){this._err=t;var e=this._ils,r=e.length;if(this._x(),this._d&&this._dl._e(t),r==1)e[0]._e(t);else{if(r==0)return;for(var i=cp(e),o=0;o<r;o++)i[o]._e(t)}if(!this._d&&r==0)throw this._err}},n.prototype._c=function(){var t=this._ils,e=t.length;if(this._x(),this._d&&this._dl._c(),e==1)t[0]._c();else{if(e==0)return;for(var r=cp(t),i=0;i<e;i++)r[i]._c()}},n.prototype._x=function(){this._ils.length!==0&&(this._prod!==NO&&this._prod._stop(),this._err=NO,this._ils=[])},n.prototype._stopNow=function(){this._prod._stop(),this._err=NO,this._stopID=NO},n.prototype._add=function(t){var e=this._target;if(e)return e._add(t);var r=this._ils;if(r.push(t),!(r.length>1))if(this._stopID!==NO)clearTimeout(this._stopID),this._stopID=NO;else{var i=this._prod;i!==NO&&i._start(this)}},n.prototype._remove=function(t){var e=this,r=this._target;if(r)return r._remove(t);var i=this._ils,o=i.indexOf(t);o>-1&&(i.splice(o,1),this._prod!==NO&&i.length<=0?(this._err=NO,this._stopID=setTimeout(function(){return e._stopNow()})):i.length===1&&this._pruneCycles())},n.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},n.prototype._hasNoSinks=function(t,e){if(e.indexOf(t)!==-1||t.out===this)return!0;if(t.out&&t.out!==NO)return this._hasNoSinks(t.out,e.concat(t));if(t._ils){for(var r=0,i=t._ils.length;r<i;r++)if(!this._hasNoSinks(t._ils[r],e.concat(t)))return!1;return!0}else return!1},n.prototype.ctor=function(){return this instanceof MemoryStream?MemoryStream:n},n.prototype.addListener=function(t){t._n=t.next||noop,t._e=t.error||noop,t._c=t.complete||noop,this._add(t)},n.prototype.removeListener=function(t){this._remove(t)},n.prototype.subscribe=function(t){return this.addListener(t),new StreamSub(this,t)},n.prototype[$$observable]=function(){return this},n.create=function(t){if(t){if(typeof t.start!="function"||typeof t.stop!="function")throw new Error("producer requires both start and stop functions");internalizeProducer(t)}return new n(t)},n.createWithMemory=function(t){return t&&internalizeProducer(t),new MemoryStream(t)},n.never=function(){return new n({_start:noop,_stop:noop})},n.empty=function(){return new n({_start:function(t){t._c()},_stop:noop})},n.throw=function(t){return new n({_start:function(e){e._e(t)},_stop:noop})},n.from=function(t){if(typeof t[$$observable]=="function")return n.fromObservable(t);if(typeof t.then=="function")return n.fromPromise(t);if(Array.isArray(t))return n.fromArray(t);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},n.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.fromArray(t)},n.fromArray=function(t){return new n(new FromArray(t))},n.fromPromise=function(t){return new n(new FromPromise(t))},n.fromObservable=function(t){if(t.endWhen!==void 0)return t;var e=typeof t[$$observable]=="function"?t[$$observable]():t;return new n(new FromObservable(e))},n.periodic=function(t){return new n(new Periodic(t))},n.prototype._map=function(t){return new(this.ctor())(new MapOp(t,this))},n.prototype.map=function(t){return this._map(t)},n.prototype.mapTo=function(t){var e=this.map(function(){return t}),r=e._prod;return r.type="mapTo",e},n.prototype.filter=function(t){var e=this._prod;return e instanceof Filter?new n(new Filter(and(e.f,t),e.ins)):new n(new Filter(t,this))},n.prototype.take=function(t){return new(this.ctor())(new Take(t,this))},n.prototype.drop=function(t){return new n(new Drop(t,this))},n.prototype.last=function(){return new n(new Last(this))},n.prototype.startWith=function(t){return new MemoryStream(new StartWith(this,t))},n.prototype.endWhen=function(t){return new(this.ctor())(new EndWhen(t,this))},n.prototype.fold=function(t,e){return new MemoryStream(new Fold(t,e,this))},n.prototype.replaceError=function(t){return new(this.ctor())(new ReplaceError(t,this))},n.prototype.flatten=function(){return new n(new Flatten(this))},n.prototype.compose=function(t){return t(this)},n.prototype.remember=function(){return new MemoryStream(new Remember(this))},n.prototype.debug=function(t){return new(this.ctor())(new Debug(this,t))},n.prototype.imitate=function(t){if(t instanceof MemoryStream)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=t;for(var e=this._ils,r=e.length,i=0;i<r;i++)t._add(e[i]);this._ils=[]},n.prototype.shamefullySendNext=function(t){this._n(t)},n.prototype.shamefullySendError=function(t){this._e(t)},n.prototype.shamefullySendComplete=function(){this._c()},n.prototype.setDebugListener=function(t){t?(this._d=!0,t._n=t.next||noop,t._e=t.error||noop,t._c=t.complete||noop,this._dl=t):(this._d=!1,this._dl=NO)},n.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new n(new Merge(t))},n.combine=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new n(new Combine(t))},n}();xstream.Stream=Stream;var MemoryStream=function(n){__extends(t,n);function t(e){var r=n.call(this,e)||this;return r._has=!1,r}return t.prototype._n=function(e){this._v=e,this._has=!0,n.prototype._n.call(this,e)},t.prototype._add=function(e){var r=this._target;if(r)return r._add(e);var i=this._ils;if(i.push(e),i.length>1){this._has&&e._n(this._v);return}if(this._stopID!==NO)this._has&&e._n(this._v),clearTimeout(this._stopID),this._stopID=NO;else if(this._has)e._n(this._v);else{var o=this._prod;o!==NO&&o._start(this)}},t.prototype._stopNow=function(){this._has=!1,n.prototype._stopNow.call(this)},t.prototype._x=function(){this._has=!1,n.prototype._x.call(this)},t.prototype.map=function(e){return this._map(e)},t.prototype.mapTo=function(e){return n.prototype.mapTo.call(this,e)},t.prototype.take=function(e){return n.prototype.take.call(this,e)},t.prototype.endWhen=function(e){return n.prototype.endWhen.call(this,e)},t.prototype.replaceError=function(e){return n.prototype.replaceError.call(this,e)},t.prototype.remember=function(){return this},t.prototype.debug=function(e){return n.prototype.debug.call(this,e)},t}(Stream);xstream.MemoryStream=MemoryStream;var xs=Stream;xstream.default=xs;var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof commonjsGlobal$1<"u"?ws=commonjsGlobal$1.WebSocket||commonjsGlobal$1.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);var browser=ws;const require$$14=getAugmentedNamespace(pako_esm);export{browser as a,bech32 as b,aspromise as c,base64$1 as d,eventemitter as e,float as f,require$$1$1 as g,require$$1 as h,inquire_1 as i,require$$0 as j,build as k,minimal as m,pool_1 as p,require$$14 as r,utf8$2 as u,xstream as x};
